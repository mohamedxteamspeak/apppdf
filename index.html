<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA & App Meta -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="PDF Maker Pro">
    <meta name="theme-color" content="#0a0a1a">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#6366f1">
    <meta name="msapplication-tap-highlight" content="no">
    
    <title>PDF Maker Pro | Ù…Ø­ÙˆÙ„ PDF Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ¨ ULTIMATE CSS VARIABLES & THEMING SYSTEM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        :root {
            /* ğŸŒˆ Primary Gradient Palette */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --gradient-secondary: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-accent: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --gradient-success: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --gradient-danger: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            --gradient-cosmic: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            --gradient-aurora: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 25%, #6366f1 50%, #8b5cf6 75%, #d946ef 100%);
            --gradient-sunset: linear-gradient(135deg, #ff6b6b 0%, #feca57 25%, #ff9ff3 50%, #54a0ff 75%, #5f27cd 100%);
            --gradient-ocean: linear-gradient(135deg, #0093E9 0%, #80D0C7 100%);
            --gradient-fire: linear-gradient(135deg, #f12711 0%, #f5af19 100%);
            
            /* ğŸ­ Solid Colors */
            --color-primary: #6366f1;
            --color-primary-light: #818cf8;
            --color-primary-dark: #4f46e5;
            --color-secondary: #8b5cf6;
            --color-accent: #f472b6;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-danger: #ef4444;
            --color-info: #3b82f6;
            
            /* ğŸŒ™ Dark Theme Colors */
            --bg-deep: #030014;
            --bg-primary: #0a0a1a;
            --bg-secondary: #12122a;
            --bg-tertiary: #1a1a3e;
            --bg-elevated: #252552;
            --bg-card: rgba(26, 26, 62, 0.6);
            --bg-glass: rgba(255, 255, 255, 0.03);
            --bg-glass-strong: rgba(255, 255, 255, 0.08);
            
            /* âœ¨ Text Colors */
            --text-primary: #ffffff;
            --text-secondary: #e2e8f0;
            --text-muted: #94a3b8;
            --text-dim: #64748b;
            
            /* ğŸ”® Glass & Borders */
            --glass-blur: 20px;
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-border-strong: rgba(255, 255, 255, 0.2);
            --glass-glow: rgba(99, 102, 241, 0.15);
            
            /* ğŸ’« Glow Effects */
            --glow-primary: 0 0 60px rgba(99, 102, 241, 0.4);
            --glow-secondary: 0 0 60px rgba(139, 92, 246, 0.4);
            --glow-accent: 0 0 60px rgba(244, 114, 182, 0.4);
            --glow-success: 0 0 60px rgba(16, 185, 129, 0.4);
            --glow-text: 0 0 40px currentColor;
            
            /* ğŸ“ Spacing System */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            
            /* ğŸ”„ Border Radius */
            --radius-xs: 6px;
            --radius-sm: 10px;
            --radius-md: 14px;
            --radius-lg: 20px;
            --radius-xl: 28px;
            --radius-2xl: 36px;
            --radius-full: 9999px;
            
            /* âš¡ Transitions */
            --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
            --ease-in-out-expo: cubic-bezier(0.87, 0, 0.13, 1);
            --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --ease-elastic: cubic-bezier(0.68, -0.6, 0.32, 1.6);
            --transition-fast: 0.15s var(--ease-out-expo);
            --transition-normal: 0.3s var(--ease-out-expo);
            --transition-slow: 0.5s var(--ease-out-expo);
            --transition-slower: 0.8s var(--ease-out-expo);
            
            /* ğŸ“± Safe Areas */
            --safe-top: env(safe-area-inset-top, 0px);
            --safe-bottom: env(safe-area-inset-bottom, 0px);
            --safe-left: env(safe-area-inset-left, 0px);
            --safe-right: env(safe-area-inset-right, 0px);
            
            /* ğŸ”¢ Z-Index Layers */
            --z-base: 1;
            --z-dropdown: 100;
            --z-sticky: 200;
            --z-fixed: 300;
            --z-modal-backdrop: 400;
            --z-modal: 500;
            --z-popover: 600;
            --z-toast: 700;
            --z-tooltip: 800;
            --z-splash: 1000;
            
            /* ğŸ–¼ï¸ Shadows */
            --shadow-sm: 0 2px 10px rgba(0, 0, 0, 0.2);
            --shadow-md: 0 4px 20px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.4);
            --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.5);
            --shadow-2xl: 0 30px 80px rgba(0, 0, 0, 0.6);
            --shadow-inner: inset 0 2px 10px rgba(0, 0, 0, 0.3);
            --shadow-float: 0 20px 50px -15px rgba(0, 0, 0, 0.5);
            
            /* ğŸ“ Font Sizes */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;
            --text-6xl: 3.75rem;
        }

        /* ğŸŒ Light Theme Override */
        [data-theme="light"] {
            --bg-deep: #f0f4ff;
            --bg-primary: #f8fafc;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f1f5f9;
            --bg-elevated: #e2e8f0;
            --bg-card: rgba(255, 255, 255, 0.8);
            --bg-glass: rgba(255, 255, 255, 0.6);
            --bg-glass-strong: rgba(255, 255, 255, 0.8);
            
            --text-primary: #0f172a;
            --text-secondary: #1e293b;
            --text-muted: #475569;
            --text-dim: #64748b;
            
            --glass-border: rgba(0, 0, 0, 0.08);
            --glass-border-strong: rgba(0, 0, 0, 0.12);
            --glass-glow: rgba(99, 102, 241, 0.1);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ”„ CSS RESET & BASE STYLES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        html {
            height: 100%;
            height: -webkit-fill-available;
            overflow: hidden;
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Tajawal', 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-deep);
            color: var(--text-primary);
            min-height: 100vh;
            min-height: 100dvh;
            min-height: -webkit-fill-available;
            overflow: hidden;
            overscroll-behavior: none;
            position: fixed;
            width: 100%;
            height: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
            line-height: 1.6;
        }

        /* Allow text selection in inputs */
        input, textarea, [contenteditable] {
            -webkit-user-select: text;
            user-select: text;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--color-primary), var(--color-secondary));
            border-radius: var(--radius-full);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--color-primary-light), var(--color-secondary));
        }

        /* Selection */
        ::selection {
            background: var(--color-primary);
            color: white;
        }

        /* Focus Styles */
        :focus {
            outline: none;
        }

        :focus-visible {
            outline: 2px solid var(--color-primary);
            outline-offset: 3px;
            border-radius: var(--radius-sm);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸŒŒ ANIMATED BACKGROUND - COSMIC AURORA
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #cosmic-bg {
            position: fixed;
            inset: 0;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        /* Animated Gradient Mesh */
        .gradient-mesh {
            position: absolute;
            inset: -50%;
            background: 
                radial-gradient(ellipse at 20% 80%, rgba(99, 102, 241, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(139, 92, 246, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(244, 114, 182, 0.15) 0%, transparent 60%),
                radial-gradient(ellipse at 10% 30%, rgba(34, 211, 238, 0.2) 0%, transparent 40%),
                radial-gradient(ellipse at 90% 70%, rgba(251, 146, 60, 0.15) 0%, transparent 45%);
            animation: meshFloat 30s ease-in-out infinite;
            filter: blur(60px);
        }

        @keyframes meshFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
            25% { transform: translate(5%, -5%) rotate(3deg) scale(1.02); }
            50% { transform: translate(-3%, 5%) rotate(-2deg) scale(0.98); }
            75% { transform: translate(3%, 3%) rotate(2deg) scale(1.01); }
        }

        /* Floating Orbs */
        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
            animation: orbFloat 20s ease-in-out infinite;
        }

        .orb-1 {
            width: 400px;
            height: 400px;
            background: var(--color-primary);
            top: -10%;
            left: -10%;
            animation-delay: 0s;
        }

        .orb-2 {
            width: 350px;
            height: 350px;
            background: var(--color-secondary);
            bottom: -10%;
            right: -10%;
            animation-delay: -5s;
        }

        .orb-3 {
            width: 300px;
            height: 300px;
            background: var(--color-accent);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: -10s;
        }

        .orb-4 {
            width: 250px;
            height: 250px;
            background: linear-gradient(135deg, #22d3ee, #3b82f6);
            top: 20%;
            right: 20%;
            animation-delay: -15s;
        }

        @keyframes orbFloat {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 0.3;
            }
            25% { 
                transform: translate(50px, -30px) scale(1.1);
                opacity: 0.5;
            }
            50% { 
                transform: translate(-30px, 50px) scale(0.9);
                opacity: 0.4;
            }
            75% { 
                transform: translate(30px, 30px) scale(1.05);
                opacity: 0.35;
            }
        }

        /* Stars Effect */
        .stars {
            position: absolute;
            inset: 0;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,0.8), transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.6), transparent),
                radial-gradient(1px 1px at 90px 40px, rgba(255,255,255,0.9), transparent),
                radial-gradient(2px 2px at 130px 80px, rgba(255,255,255,0.5), transparent),
                radial-gradient(1px 1px at 160px 120px, rgba(255,255,255,0.7), transparent);
            background-size: 200px 200px;
            animation: starsFloat 100s linear infinite;
            opacity: 0.5;
        }

        @keyframes starsFloat {
            from { transform: translateY(0); }
            to { transform: translateY(-200px); }
        }

        /* Noise Texture Overlay */
        .noise-overlay {
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
        }

        /* Aurora Lines */
        .aurora-line {
            position: absolute;
            width: 200%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(99, 102, 241, 0.5), 
                rgba(139, 92, 246, 0.5), 
                rgba(244, 114, 182, 0.5), 
                transparent);
            filter: blur(1px);
            opacity: 0;
            animation: auroraWave 8s ease-in-out infinite;
        }

        .aurora-line:nth-child(1) { top: 20%; animation-delay: 0s; }
        .aurora-line:nth-child(2) { top: 40%; animation-delay: 2s; }
        .aurora-line:nth-child(3) { top: 60%; animation-delay: 4s; }
        .aurora-line:nth-child(4) { top: 80%; animation-delay: 6s; }

        @keyframes auroraWave {
            0%, 100% { 
                transform: translateX(-50%) scaleY(1);
                opacity: 0;
            }
            50% { 
                transform: translateX(0%) scaleY(3);
                opacity: 0.6;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ¬ SPLASH SCREEN - CINEMATIC INTRO
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #splash-screen {
            position: fixed;
            inset: 0;
            z-index: var(--z-splash);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--bg-deep);
            transition: opacity 0.8s var(--ease-out-expo), 
                        visibility 0.8s var(--ease-out-expo),
                        transform 0.8s var(--ease-out-expo);
        }

        #splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
            transform: scale(1.1);
        }

        /* 3D Logo Container */
        .splash-logo-container {
            perspective: 1000px;
            margin-bottom: var(--space-8);
        }

        .splash-logo {
            width: 140px;
            height: 140px;
            position: relative;
            transform-style: preserve-3d;
            animation: logoFloat 4s ease-in-out infinite, logoRotate 20s linear infinite;
        }

        .splash-logo-face {
            position: absolute;
            inset: 0;
            border-radius: var(--radius-2xl);
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gradient-primary);
            box-shadow: var(--glow-primary);
        }

        .splash-logo-face::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: calc(var(--radius-2xl) + 4px);
            background: var(--gradient-cosmic);
            z-index: -1;
            opacity: 0.6;
            filter: blur(20px);
            animation: glowPulse 2s ease-in-out infinite;
        }

        .splash-logo-face .material-icons-round {
            font-size: 70px;
            color: white;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.5));
            animation: iconPulse 2s ease-in-out infinite;
        }

        /* Rotating rings around logo */
        .splash-ring {
            position: absolute;
            border: 2px solid transparent;
            border-radius: 50%;
            animation: ringRotate 10s linear infinite;
        }

        .splash-ring-1 {
            inset: -20px;
            border-top-color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .splash-ring-2 {
            inset: -35px;
            border-left-color: var(--color-secondary);
            border-right-color: var(--color-secondary);
            animation-direction: reverse;
            animation-duration: 15s;
        }

        .splash-ring-3 {
            inset: -50px;
            border-top-color: var(--color-accent);
            border-bottom-color: var(--color-accent);
            animation-duration: 20s;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            50% { transform: translateY(-15px) rotateY(10deg); }
        }

        @keyframes logoRotate {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }

        @keyframes ringRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes glowPulse {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Title with gradient animation */
        .splash-title {
            font-size: var(--text-4xl);
            font-weight: 900;
            background: var(--gradient-cosmic);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 5s ease infinite;
            text-shadow: var(--glow-text);
            letter-spacing: -1px;
        }

        .splash-subtitle {
            font-size: var(--text-lg);
            color: var(--text-muted);
            margin-top: var(--space-2);
            opacity: 0;
            animation: fadeInUp 0.8s var(--ease-out-expo) 0.5s forwards;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Progress Container */
        .splash-progress-container {
            margin-top: var(--space-10);
            width: 280px;
        }

        .splash-progress-track {
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }

        .splash-progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            width: 0%;
            transition: width 0.3s var(--ease-out-expo);
            position: relative;
        }

        .splash-progress-bar::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255,255,255,0.8), var(--glow-primary);
            opacity: 0.9;
        }

        .splash-progress-glow {
            position: absolute;
            inset: -10px;
            background: var(--gradient-primary);
            filter: blur(20px);
            opacity: 0.3;
            border-radius: var(--radius-full);
        }

        .splash-status {
            text-align: center;
            margin-top: var(--space-4);
            font-size: var(--text-sm);
            color: var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
        }

        .splash-status-dot {
            width: 8px;
            height: 8px;
            background: var(--color-primary);
            border-radius: 50%;
            animation: statusPulse 1s ease-in-out infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }

        /* Version Badge */
        .splash-version {
            position: absolute;
            bottom: calc(var(--space-8) + var(--safe-bottom));
            font-size: var(--text-xs);
            color: var(--text-dim);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .splash-version::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--color-success);
            border-radius: 50%;
            animation: statusPulse 2s ease-in-out infinite;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“± APP CONTAINER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #app {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“„ PAGE SYSTEM WITH ADVANCED TRANSITIONS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .page {
            position: absolute;
            inset: 0;
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: var(--z-base);
            background: transparent;
            will-change: transform, opacity;
            padding-top: var(--safe-top);
        }

        .page.active {
            display: flex;
        }

        /* Page Transition Animations */
        .page.entering-right {
            animation: pageEnterRight 0.6s var(--ease-out-expo) forwards;
        }

        .page.leaving-left {
            animation: pageLeaveLeft 0.6s var(--ease-out-expo) forwards;
        }

        .page.entering-left {
            animation: pageEnterLeft 0.6s var(--ease-out-expo) forwards;
        }

        .page.leaving-right {
            animation: pageLeaveRight 0.6s var(--ease-out-expo) forwards;
        }

        .page.entering-scale {
            animation: pageEnterScale 0.5s var(--ease-out-expo) forwards;
        }

        .page.leaving-scale {
            animation: pageLeaveScale 0.5s var(--ease-out-expo) forwards;
        }

        @keyframes pageEnterRight {
            from { 
                transform: translateX(100%) scale(0.95);
                opacity: 0;
            }
            to { 
                transform: translateX(0) scale(1);
                opacity: 1;
            }
        }

        @keyframes pageLeaveLeft {
            from { 
                transform: translateX(0) scale(1);
                opacity: 1;
            }
            to { 
                transform: translateX(-30%) scale(0.9);
                opacity: 0;
            }
        }

        @keyframes pageEnterLeft {
            from { 
                transform: translateX(-100%) scale(0.95);
                opacity: 0;
            }
            to { 
                transform: translateX(0) scale(1);
                opacity: 1;
            }
        }

        @keyframes pageLeaveRight {
            from { 
                transform: translateX(0) scale(1);
                opacity: 1;
            }
            to { 
                transform: translateX(30%) scale(0.9);
                opacity: 0;
            }
        }

        @keyframes pageEnterScale {
            from { 
                transform: scale(0.8);
                opacity: 0;
            }
            to { 
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes pageLeaveScale {
            from { 
                transform: scale(1);
                opacity: 1;
            }
            to { 
                transform: scale(1.1);
                opacity: 0;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ¯ HEADER COMPONENT - GLASSMORPHIC
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            position: relative;
            padding: var(--space-6);
            padding-top: calc(var(--space-6) + var(--safe-top));
            background: linear-gradient(135deg, 
                rgba(99, 102, 241, 0.9) 0%, 
                rgba(139, 92, 246, 0.9) 50%,
                rgba(168, 85, 247, 0.9) 100%);
            border-radius: 0 0 var(--radius-2xl) var(--radius-2xl);
            flex-shrink: 0;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
        }

        .header::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none'%3E%3Cg fill='%23ffffff' fill-opacity='0.07'%3E%3Ccircle cx='30' cy='30' r='20'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            animation: patternMove 20s linear infinite;
        }

        @keyframes patternMove {
            from { background-position: 0 0; }
            to { background-position: 60px 60px; }
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255,255,255,0.3), 
                transparent);
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .header-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .header-title {
            font-size: var(--text-2xl);
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .header-subtitle {
            font-size: var(--text-base);
            color: rgba(255,255,255,0.8);
            margin-top: var(--space-1);
        }

        /* Compact Header */
        .header-compact {
            padding: var(--space-4);
            padding-top: calc(var(--space-4) + var(--safe-top));
            border-radius: 0;
        }

        .header-compact .header-nav {
            margin-bottom: 0;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ”˜ BUTTON SYSTEM - MAGNETIC & ANIMATED
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .btn {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-3);
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-lg);
            font-family: inherit;
            font-size: var(--text-base);
            font-weight: 700;
            text-decoration: none;
            border: none;
            cursor: pointer;
            overflow: hidden;
            transition: all var(--transition-normal);
            -webkit-appearance: none;
            appearance: none;
            isolation: isolate;
        }

        .btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(rgba(255,255,255,0.2), transparent);
            opacity: 0;
            transition: opacity var(--transition-fast);
        }

        .btn:hover::before {
            opacity: 1;
        }

        .btn:active {
            transform: scale(0.97);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        /* Ripple Effect */
        .btn-ripple {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.5) 0%, transparent 70%);
            transform: scale(0);
            animation: rippleEffect 0.8s var(--ease-out-expo);
            pointer-events: none;
        }

        @keyframes rippleEffect {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Shine Effect */
        .btn-shine {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255,255,255,0.3),
                transparent
            );
            transition: left 0.5s var(--ease-out-expo);
        }

        .btn:hover .btn-shine {
            left: 100%;
        }

        /* Primary Button */
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-lg), var(--glow-primary);
        }

        .btn-primary:hover {
            box-shadow: var(--shadow-xl), 0 0 80px rgba(99, 102, 241, 0.5);
            transform: translateY(-2px);
        }

        /* Secondary Button */
        .btn-secondary {
            background: var(--bg-glass-strong);
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
        }

        .btn-secondary:hover {
            background: rgba(99, 102, 241, 0.15);
            box-shadow: var(--glow-primary);
        }

        /* Success Button */
        .btn-success {
            background: var(--gradient-success);
            color: white;
            box-shadow: var(--shadow-lg), var(--glow-success);
        }

        /* Danger Button */
        .btn-danger {
            background: var(--gradient-danger);
            color: white;
            box-shadow: var(--shadow-lg), 0 0 40px rgba(239, 68, 68, 0.4);
        }

        /* Ghost Button */
        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            padding: var(--space-2);
        }

        .btn-ghost:hover {
            background: var(--bg-glass-strong);
            color: var(--text-primary);
        }

        /* Icon Button */
        .btn-icon {
            width: 52px;
            height: 52px;
            padding: 0;
            border-radius: var(--radius-md);
        }

        .btn-icon-sm {
            width: 44px;
            height: 44px;
        }

        .btn-icon-lg {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-lg);
        }

        /* Floating Action Button */
        .btn-fab {
            width: 72px;
            height: 72px;
            border-radius: var(--radius-full);
            padding: 0;
            font-size: 28px;
            box-shadow: var(--shadow-2xl), var(--glow-primary);
        }

        .btn-fab:hover {
            transform: translateY(-4px) scale(1.05);
        }

        /* Button Sizes */
        .btn-sm {
            padding: var(--space-2) var(--space-4);
            font-size: var(--text-sm);
            border-radius: var(--radius-md);
        }

        .btn-lg {
            padding: var(--space-5) var(--space-8);
            font-size: var(--text-lg);
            border-radius: var(--radius-xl);
        }

        .btn-xl {
            padding: var(--space-6) var(--space-10);
            font-size: var(--text-xl);
            border-radius: var(--radius-2xl);
        }

        /* Full Width */
        .btn-block {
            width: 100%;
        }

        /* Button with Glow Animation */
        .btn-glow {
            animation: buttonGlow 2s ease-in-out infinite;
        }

        @keyframes buttonGlow {
            0%, 100% { box-shadow: var(--shadow-lg), var(--glow-primary); }
            50% { box-shadow: var(--shadow-xl), 0 0 100px rgba(99, 102, 241, 0.6); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ´ CARD SYSTEM - GLASSMORPHIC & 3D
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .card {
            background: var(--bg-card);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            border: 1px solid var(--glass-border);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                135deg,
                rgba(255,255,255,0.1) 0%,
                transparent 50%,
                transparent 100%
            );
            pointer-events: none;
        }

        /* Card Variants */
        .card-glass {
            background: var(--bg-glass);
            border-color: var(--glass-border-strong);
        }

        .card-gradient {
            background: linear-gradient(135deg, 
                rgba(99, 102, 241, 0.1) 0%, 
                rgba(139, 92, 246, 0.1) 50%,
                rgba(244, 114, 182, 0.1) 100%);
            border-color: rgba(99, 102, 241, 0.2);
        }

        .card-elevated {
            box-shadow: var(--shadow-xl);
        }

        .card-glow {
            box-shadow: var(--shadow-lg), var(--glass-glow);
        }

        /* Interactive Card */
        .card-interactive {
            cursor: pointer;
        }

        .card-interactive:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: var(--shadow-xl), var(--glow-primary);
            border-color: var(--color-primary);
        }

        .card-interactive:active {
            transform: translateY(-2px) scale(1);
        }

        /* 3D Tilt Effect Container */
        .card-3d {
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .card-3d-inner {
            transition: transform var(--transition-normal);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           âœ¨ ICON CIRCLE - ANIMATED & GLOWING
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .icon-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gradient-primary);
            position: relative;
            flex-shrink: 0;
        }

        /* Glow Ring */
        .icon-circle::before {
            content: '';
            position: absolute;
            inset: -8px;
            border-radius: 50%;
            background: var(--gradient-primary);
            z-index: -1;
            opacity: 0.4;
            filter: blur(20px);
            animation: glowPulse 2s ease-in-out infinite;
        }

        /* Rotating Border */
        .icon-circle::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 2px dashed rgba(255,255,255,0.3);
            animation: rotateBorder 20s linear infinite;
        }

        @keyframes rotateBorder {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Inner Content */
        .icon-circle-inner {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-circle .material-icons-round {
            font-size: 56px;
            color: white;
            filter: drop-shadow(0 4px 10px rgba(0,0,0,0.3));
        }

        /* Animated Float */
        .icon-circle.animated {
            animation: iconFloat 4s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(2deg); }
            75% { transform: translateY(-5px) rotate(-2deg); }
        }

        /* Size Variants */
        .icon-circle-sm {
            width: 72px;
            height: 72px;
        }

        .icon-circle-sm .material-icons-round {
            font-size: 36px;
        }

        .icon-circle-lg {
            width: 140px;
            height: 140px;
        }

        .icon-circle-lg .material-icons-round {
            font-size: 70px;
        }

        /* Color Variants */
        .icon-circle.success {
            background: var(--gradient-success);
        }

        .icon-circle.success::before {
            background: var(--gradient-success);
        }

        .icon-circle.danger {
            background: var(--gradient-danger);
        }

        .icon-circle.danger::before {
            background: var(--gradient-danger);
        }

        .icon-circle.secondary {
            background: var(--gradient-secondary);
        }

        .icon-circle.secondary::before {
            background: var(--gradient-secondary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“¤ DROP ZONE - INTERACTIVE UPLOAD AREA
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .drop-zone {
            position: relative;
            border: 3px dashed rgba(99, 102, 241, 0.4);
            border-radius: var(--radius-2xl);
            padding: var(--space-12) var(--space-6);
            text-align: center;
            background: rgba(99, 102, 241, 0.03);
            cursor: pointer;
            overflow: hidden;
            transition: all var(--transition-normal);
        }

        /* Animated Border */
        .drop-zone::before {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: var(--radius-2xl);
            padding: 3px;
            background: var(--gradient-cosmic);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            animation: borderRotate 4s linear infinite;
            transition: opacity var(--transition-normal);
        }

        @keyframes borderRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .drop-zone:hover::before,
        .drop-zone.dragover::before {
            opacity: 1;
        }

        /* Background Pattern */
        .drop-zone::after {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(circle at 30% 30%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity var(--transition-normal);
            pointer-events: none;
        }

        .drop-zone:hover::after,
        .drop-zone.dragover::after {
            opacity: 1;
        }

        .drop-zone:hover {
            background: rgba(99, 102, 241, 0.08);
            transform: scale(1.01);
        }

        .drop-zone.dragover {
            background: rgba(99, 102, 241, 0.12);
            transform: scale(1.02);
            border-color: var(--color-primary);
        }

        .drop-zone.processing {
            opacity: 0.7;
            pointer-events: none;
        }

        .drop-zone-content {
            position: relative;
            z-index: 2;
        }

        .drop-zone-icon {
            margin-bottom: var(--space-4);
        }

        .drop-zone-title {
            font-size: var(--text-xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .drop-zone-subtitle {
            font-size: var(--text-base);
            color: var(--text-muted);
        }

        /* Upload Animation */
        .drop-zone-upload-icon {
            animation: uploadBounce 2s ease-in-out infinite;
        }

        @keyframes uploadBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ–¼ï¸ GALLERY GRID - MASONRY STYLE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-3);
            padding: var(--space-3);
        }

        @media (min-width: 480px) {
            .gallery { grid-template-columns: repeat(4, 1fr); }
        }

        @media (max-width: 360px) {
            .gallery { grid-template-columns: repeat(2, 1fr); }
        }

        .gallery-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: var(--radius-lg);
            overflow: hidden;
            cursor: pointer;
            background: var(--bg-secondary);
            border: 3px solid transparent;
            transition: all var(--transition-normal);
        }

        .gallery-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.6), transparent 50%);
            opacity: 0;
            transition: opacity var(--transition-fast);
            z-index: 2;
        }

        .gallery-item:hover::before {
            opacity: 1;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-slow);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item.selected {
            border-color: var(--color-success);
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.4);
        }

        .gallery-item.selected::after {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(16, 185, 129, 0.1);
            z-index: 1;
        }

        .gallery-item.excluded {
            opacity: 0.4;
            border-color: var(--color-danger);
            filter: grayscale(0.5);
        }

        /* Badges */
        .gallery-badge {
            position: absolute;
            top: var(--space-2);
            right: var(--space-2);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 5;
            backdrop-filter: blur(4px);
        }

        .badge-duplicate {
            background: rgba(245, 158, 11, 0.9);
            color: black;
        }

        .badge-logo {
            background: rgba(239, 68, 68, 0.9);
            color: white;
        }

        .badge-page {
            position: absolute;
            top: var(--space-2);
            left: var(--space-2);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-size: 10px;
            font-weight: 700;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            z-index: 5;
            backdrop-filter: blur(4px);
        }

        /* Selection Checkbox */
        .gallery-check {
            position: absolute;
            bottom: var(--space-2);
            left: var(--space-2);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
            transition: all var(--transition-fast);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .gallery-item.selected .gallery-check {
            background: var(--color-success);
            border-color: var(--color-success);
            transform: scale(1.1);
        }

        .gallery-check .material-icons-round {
            font-size: 18px;
            color: white;
            opacity: 0;
            transition: opacity var(--transition-fast);
        }

        .gallery-item.selected .gallery-check .material-icons-round {
            opacity: 1;
        }

        /* Empty State */
        .gallery-empty {
            grid-column: 1 / -1;
            padding: var(--space-12);
            text-align: center;
        }

        .gallery-empty-icon {
            font-size: 80px;
            color: var(--text-dim);
            opacity: 0.5;
            margin-bottom: var(--space-4);
        }

        .gallery-empty-title {
            font-size: var(--text-xl);
            font-weight: 700;
            color: var(--text-muted);
            margin-bottom: var(--space-2);
        }

        .gallery-empty-text {
            font-size: var(--text-base);
            color: var(--text-dim);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“Š PROGRESS COMPONENTS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        /* Circular Progress */
        .progress-circle-container {
            position: relative;
            width: 220px;
            height: 220px;
        }

        .progress-circle-svg {
            transform: rotate(-90deg);
            filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.4));
        }

        .progress-circle-bg {
            fill: none;
            stroke: var(--bg-tertiary);
            stroke-width: 12;
        }

        .progress-circle-bar {
            fill: none;
            stroke: url(#progressGradient);
            stroke-width: 12;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s var(--ease-out-expo);
        }

        .progress-circle-glow {
            fill: none;
            stroke: url(#progressGradient);
            stroke-width: 20;
            stroke-linecap: round;
            opacity: 0.3;
            filter: blur(8px);
        }

        .progress-circle-text {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .progress-circle-value {
            font-size: var(--text-5xl);
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
        }

        .progress-circle-label {
            font-size: var(--text-sm);
            color: var(--text-muted);
            margin-top: var(--space-2);
        }

        /* Linear Progress */
        .progress-linear {
            width: 100%;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }

        .progress-linear-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            transition: width 0.3s var(--ease-out-expo);
            position: relative;
        }

        .progress-linear-bar::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255,255,255,0.4),
                transparent
            );
            animation: progressShine 2s ease-in-out infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-linear-glow {
            position: absolute;
            inset: -5px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            filter: blur(10px);
            opacity: 0.4;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“ˆ STATS CARDS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
        }

        .stat-card {
            background: var(--bg-card);
            backdrop-filter: blur(var(--glass-blur));
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            border: 1px solid var(--glass-border);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }

        .stat-value {
            font-size: var(--text-4xl);
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .stat-value.success {
            background: var(--gradient-success);
            -webkit-background-clip: text;
            background-clip: text;
        }

        .stat-label {
            font-size: var(--text-sm);
            color: var(--text-muted);
            margin-top: var(--space-2);
            font-weight: 500;
        }

        /* Animated Counter */
        .stat-value.counting {
            animation: countPulse 0.3s ease;
        }

        @keyframes countPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
                /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ·ï¸ TABS COMPONENT - PILL STYLE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .tabs-container {
            position: relative;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--glass-border);
        }

        .tabs {
            display: flex;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-4);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            scroll-behavior: smooth;
            scroll-snap-type: x mandatory;
        }

        .tabs::-webkit-scrollbar {
            display: none;
        }

        .tab {
            position: relative;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
            white-space: nowrap;
            border: none;
            cursor: pointer;
            font-family: inherit;
            background: var(--bg-tertiary);
            color: var(--text-muted);
            transition: all var(--transition-normal);
            scroll-snap-align: start;
        }

        .tab:hover {
            background: var(--bg-elevated);
            color: var(--text-primary);
        }

        .tab.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md), var(--glow-primary);
        }

        .tab-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 22px;
            height: 22px;
            padding: 0 var(--space-2);
            border-radius: var(--radius-full);
            font-size: 11px;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.2);
        }

        .tab:not(.active) .tab-badge {
            background: var(--bg-elevated);
            color: var(--text-muted);
        }

        /* Tab Indicator */
        .tabs-indicator {
            position: absolute;
            bottom: 0;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full) var(--radius-full) 0 0;
            transition: all var(--transition-normal);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“ INPUT COMPONENTS - FLOATING LABEL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .input-group {
            position: relative;
            margin-bottom: var(--space-4);
        }

        .input-label {
            display: block;
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--text-muted);
            margin-bottom: var(--space-2);
            transition: all var(--transition-fast);
        }

        .input {
            width: 100%;
            padding: var(--space-4) var(--space-5);
            background: var(--bg-tertiary);
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            font-family: inherit;
            color: var(--text-primary);
            transition: all var(--transition-normal);
            -webkit-appearance: none;
            appearance: none;
        }

        .input::placeholder {
            color: var(--text-dim);
        }

        .input:hover {
            border-color: var(--glass-border-strong);
            background: var(--bg-elevated);
        }

        .input:focus {
            border-color: var(--color-primary);
            background: var(--bg-secondary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15), var(--glow-primary);
        }

        .input:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Input with Icon */
        .input-wrapper {
            position: relative;
        }

        .input-wrapper .input {
            padding-right: 52px;
        }

        .input-icon {
            position: absolute;
            right: var(--space-4);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
            transition: color var(--transition-fast);
        }

        .input:focus + .input-icon,
        .input:focus ~ .input-icon {
            color: var(--color-primary);
        }

        /* Floating Label Style */
        .input-floating {
            position: relative;
        }

        .input-floating .input {
            padding-top: var(--space-6);
            padding-bottom: var(--space-3);
        }

        .input-floating .input-label {
            position: absolute;
            right: var(--space-4);
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            margin: 0;
            transition: all var(--transition-normal);
            background: transparent;
        }

        .input-floating .input:focus ~ .input-label,
        .input-floating .input:not(:placeholder-shown) ~ .input-label {
            top: var(--space-2);
            transform: translateY(0);
            font-size: var(--text-xs);
            color: var(--color-primary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ”˜ TOGGLE SWITCH - ANIMATED
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .toggle-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-4);
            background: var(--bg-card);
            backdrop-filter: blur(var(--glass-blur));
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-normal);
            border: 1px solid var(--glass-border);
        }

        .toggle-item:hover {
            background: var(--bg-glass-strong);
            border-color: var(--glass-border-strong);
        }

        .toggle-item:active {
            transform: scale(0.99);
        }

        .toggle-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
            flex: 1;
            margin-left: var(--space-4);
        }

        .toggle-title {
            font-weight: 600;
            color: var(--text-primary);
            font-size: var(--text-base);
        }

        .toggle-description {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }

        .toggle-switch {
            position: relative;
            width: 56px;
            height: 32px;
            background: var(--bg-elevated);
            border-radius: var(--radius-full);
            transition: all var(--transition-normal);
            flex-shrink: 0;
            border: 2px solid transparent;
        }

        .toggle-switch::before {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: all var(--transition-bounce);
            box-shadow: var(--shadow-md);
        }

        .toggle-switch.active {
            background: var(--gradient-primary);
            box-shadow: var(--glow-primary);
        }

        .toggle-switch.active::before {
            left: 26px;
        }

        /* Toggle with Icon */
        .toggle-item-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-md);
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-primary);
            flex-shrink: 0;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ TOAST NOTIFICATIONS - STACKED
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .toast-container {
            position: fixed;
            bottom: calc(var(--space-8) + var(--safe-bottom));
            left: 50%;
            transform: translateX(-50%);
            z-index: var(--z-toast);
            display: flex;
            flex-direction: column-reverse;
            gap: var(--space-3);
            pointer-events: none;
            width: 90%;
            max-width: 420px;
        }

        .toast {
            pointer-events: auto;
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4) var(--space-5);
            background: var(--bg-elevated);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-xl);
            transform: translateY(100px) scale(0.9);
            opacity: 0;
            transition: all var(--transition-normal);
        }

        .toast.show {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .toast.hiding {
            transform: translateX(100px);
            opacity: 0;
        }

        .toast-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .toast-icon.success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--color-success);
        }

        .toast-icon.error {
            background: rgba(239, 68, 68, 0.2);
            color: var(--color-danger);
        }

        .toast-icon.warning {
            background: rgba(245, 158, 11, 0.2);
            color: var(--color-warning);
        }

        .toast-icon.info {
            background: rgba(59, 130, 246, 0.2);
            color: var(--color-info);
        }

        .toast-content {
            flex: 1;
            min-width: 0;
        }

        .toast-title {
            font-weight: 700;
            font-size: var(--text-sm);
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .toast-message {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .toast-close {
            background: none;
            border: none;
            padding: var(--space-2);
            color: var(--text-muted);
            cursor: pointer;
            border-radius: var(--radius-sm);
            transition: all var(--transition-fast);
            flex-shrink: 0;
        }

        .toast-close:hover {
            background: var(--bg-glass-strong);
            color: var(--text-primary);
        }

        /* Toast Progress */
        .toast-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--bg-tertiary);
            border-radius: 0 0 var(--radius-xl) var(--radius-xl);
            overflow: hidden;
        }

        .toast-progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            animation: toastProgress 3.5s linear forwards;
        }

        @keyframes toastProgress {
            from { width: 100%; }
            to { width: 0%; }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â³ LOADING OVERLAY - CINEMATIC
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .loading-overlay {
            position: fixed;
            inset: 0;
            z-index: var(--z-modal);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(3, 0, 20, 0.95);
            backdrop-filter: blur(20px);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
        }

        .loading-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        /* Spinner Variants */
        .spinner {
            width: 64px;
            height: 64px;
            position: relative;
        }

        .spinner-ring {
            position: absolute;
            inset: 0;
            border: 4px solid var(--bg-tertiary);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spinnerRotate 1s linear infinite;
        }

        .spinner-ring:nth-child(2) {
            inset: 8px;
            border-top-color: var(--color-secondary);
            animation-duration: 1.5s;
            animation-direction: reverse;
        }

        .spinner-ring:nth-child(3) {
            inset: 16px;
            border-top-color: var(--color-accent);
            animation-duration: 2s;
        }

        @keyframes spinnerRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* DNA Helix Spinner */
        .spinner-dna {
            width: 60px;
            height: 60px;
            position: relative;
        }

        .spinner-dna-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--color-primary);
            border-radius: 50%;
            animation: dnaSpin 2s ease-in-out infinite;
        }

        .spinner-dna-dot:nth-child(1) { animation-delay: 0s; }
        .spinner-dna-dot:nth-child(2) { animation-delay: 0.2s; background: var(--color-secondary); }
        .spinner-dna-dot:nth-child(3) { animation-delay: 0.4s; background: var(--color-accent); }
        .spinner-dna-dot:nth-child(4) { animation-delay: 0.6s; }
        .spinner-dna-dot:nth-child(5) { animation-delay: 0.8s; background: var(--color-secondary); }

        @keyframes dnaSpin {
            0%, 100% { transform: translateY(0) scale(1); opacity: 1; }
            50% { transform: translateY(-20px) scale(0.8); opacity: 0.5; }
        }

        /* Pulse Spinner */
        .spinner-pulse {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: 50%;
            animation: spinnerPulse 1.5s ease-in-out infinite;
        }

        @keyframes spinnerPulse {
            0%, 100% { transform: scale(0.8); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        .loading-text {
            margin-top: var(--space-6);
            font-size: var(--text-lg);
            color: var(--text-secondary);
            text-align: center;
        }

        .loading-progress {
            margin-top: var(--space-4);
            width: 80%;
            max-width: 300px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ–¼ï¸ IMAGE VIEWER - LIGHTBOX
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .viewer {
            position: fixed;
            inset: 0;
            z-index: var(--z-modal);
            background: rgba(0, 0, 0, 0.97);
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        .viewer.show {
            display: flex;
            opacity: 1;
        }

        .viewer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4);
            padding-top: calc(var(--space-4) + var(--safe-top));
            background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10;
        }

        .viewer-counter {
            font-size: var(--text-base);
            font-weight: 700;
            color: white;
            background: rgba(255,255,255,0.1);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-full);
            backdrop-filter: blur(10px);
        }

        .viewer-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-4);
            overflow: hidden;
        }

        .viewer-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-2xl);
            transition: transform var(--transition-slow);
            touch-action: pinch-zoom pan-x pan-y;
        }

        .viewer-image.zoomed {
            transform: scale(2);
        }

        /* Navigation Buttons */
        .viewer-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 56px;
            height: 56px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all var(--transition-normal);
        }

        .viewer-nav:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-50%) scale(1.1);
        }

        .viewer-nav:active {
            transform: translateY(-50%) scale(0.95);
        }

        .viewer-nav.prev {
            left: var(--space-4);
        }

        .viewer-nav.next {
            right: var(--space-4);
        }

        .viewer-nav .material-icons-round {
            font-size: 28px;
        }

        /* Footer Actions */
        .viewer-footer {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-4);
            padding-bottom: calc(var(--space-4) + var(--safe-bottom));
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        /* Thumbnail Strip */
        .viewer-thumbnails {
            display: flex;
            gap: var(--space-2);
            padding: var(--space-3);
            overflow-x: auto;
            scrollbar-width: none;
        }

        .viewer-thumbnails::-webkit-scrollbar {
            display: none;
        }

        .viewer-thumb {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-md);
            overflow: hidden;
            border: 2px solid transparent;
            cursor: pointer;
            opacity: 0.5;
            transition: all var(--transition-fast);
            flex-shrink: 0;
        }

        .viewer-thumb.active {
            border-color: white;
            opacity: 1;
        }

        .viewer-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“ ACTION BAR - FLOATING BOTTOM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .action-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: var(--space-4);
            padding-bottom: calc(var(--space-4) + var(--safe-bottom));
            background: linear-gradient(to top, 
                var(--bg-primary) 0%, 
                var(--bg-primary) 60%, 
                transparent 100%);
            display: flex;
            gap: var(--space-3);
            z-index: var(--z-sticky);
        }

        .action-bar-floating {
            left: var(--space-4);
            right: var(--space-4);
            bottom: calc(var(--space-4) + var(--safe-bottom));
            padding: var(--space-3);
            background: var(--bg-elevated);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-2xl);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-2xl);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“‹ BOTTOM SHEET / MODAL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: var(--z-modal-backdrop);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
        }

        .modal-backdrop.show {
            opacity: 1;
            visibility: visible;
        }

        .bottom-sheet {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-height: 85vh;
            background: var(--bg-secondary);
            border-radius: var(--radius-2xl) var(--radius-2xl) 0 0;
            z-index: var(--z-modal);
            transform: translateY(100%);
            transition: transform var(--transition-slow);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .bottom-sheet.show {
            transform: translateY(0);
        }

        .bottom-sheet-header {
            padding: var(--space-4) var(--space-6);
            border-bottom: 1px solid var(--glass-border);
            flex-shrink: 0;
        }

        .bottom-sheet-handle {
            width: 40px;
            height: 5px;
            background: var(--bg-elevated);
            border-radius: var(--radius-full);
            margin: 0 auto var(--space-4);
        }

        .bottom-sheet-title {
            font-size: var(--text-xl);
            font-weight: 700;
            text-align: center;
        }

        .bottom-sheet-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-6);
            padding-bottom: calc(var(--space-6) + var(--safe-bottom));
        }

        /* Modal Center */
        .modal-center {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 400px;
            max-height: 85vh;
            background: var(--bg-secondary);
            border-radius: var(--radius-2xl);
            z-index: var(--z-modal);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
            overflow: hidden;
            box-shadow: var(--shadow-2xl);
        }

        .modal-backdrop.show + .modal-center,
        .modal-center.show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“ LAYOUT SELECTOR - GRID PREVIEW
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .layout-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-3);
        }

        @media (max-width: 360px) {
            .layout-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .layout-item {
            background: var(--bg-card);
            backdrop-filter: blur(var(--glass-blur));
            border-radius: var(--radius-lg);
            padding: var(--space-3);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-align: center;
        }

        .layout-item:hover {
            background: var(--bg-glass-strong);
            border-color: var(--glass-border-strong);
            transform: translateY(-2px);
        }

        .layout-item.selected {
            border-color: var(--color-primary);
            background: rgba(99, 102, 241, 0.15);
            box-shadow: var(--glow-primary);
        }

        .layout-preview {
            display: grid;
            gap: 3px;
            aspect-ratio: 3/4;
            padding: var(--space-2);
            margin-bottom: var(--space-2);
        }

        .layout-cell {
            background: rgba(99, 102, 241, 0.3);
            border-radius: 3px;
            transition: background var(--transition-fast);
        }

        .layout-item.selected .layout-cell {
            background: var(--color-primary);
        }

        .layout-item:hover .layout-cell {
            background: rgba(99, 102, 241, 0.5);
        }

        .layout-label {
            font-size: var(--text-sm);
            font-weight: 700;
            color: var(--text-muted);
        }

        .layout-item.selected .layout-label {
            color: var(--color-primary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           â±ï¸ STEPS INDICATOR - ANIMATED
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .steps-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-4);
        }

        .step-dot {
            width: 10px;
            height: 10px;
            border-radius: var(--radius-full);
            background: var(--bg-tertiary);
            transition: all var(--transition-normal);
        }

        .step-dot.active {
            width: 36px;
            background: var(--gradient-primary);
            box-shadow: var(--glow-primary);
        }

        .step-dot.completed {
            background: var(--color-success);
        }

        /* Connected Steps */
        .steps-connected {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4);
            position: relative;
        }

        .steps-connected::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 15%;
            right: 15%;
            height: 2px;
            background: var(--bg-tertiary);
            z-index: 0;
        }

        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-2);
            z-index: 1;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: var(--text-sm);
            color: var(--text-muted);
            transition: all var(--transition-normal);
            border: 2px solid transparent;
        }

        .step-item.active .step-circle {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--glow-primary);
        }

        .step-item.completed .step-circle {
            background: var(--color-success);
            color: white;
        }

        .step-label {
            font-size: var(--text-xs);
            color: var(--text-muted);
            font-weight: 500;
        }

        .step-item.active .step-label {
            color: var(--color-primary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“œ SCROLL AREA
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .scroll-area {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }

        .scroll-area::-webkit-scrollbar {
            width: 4px;
        }

        .scroll-area::-webkit-scrollbar-thumb {
            background: var(--color-primary);
            border-radius: 2px;
        }

        /* Pull to Refresh Indicator */
        .pull-indicator {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%) translateY(-100%);
            padding: var(--space-3);
            transition: transform var(--transition-normal);
        }

        .scroll-area.pulling .pull-indicator {
            transform: translateX(-50%) translateY(0);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ¨ UTILITY CLASSES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        /* Flexbox */
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .flex-row { flex-direction: row; }
        .flex-wrap { flex-wrap: wrap; }
        .flex-1 { flex: 1; }
        .flex-shrink-0 { flex-shrink: 0; }
        .items-start { align-items: flex-start; }
        .items-center { align-items: center; }
        .items-end { align-items: flex-end; }
        .justify-start { justify-content: flex-start; }
        .justify-center { justify-content: center; }
        .justify-end { justify-content: flex-end; }
        .justify-between { justify-content: space-between; }
        .justify-around { justify-content: space-around; }
        
        /* Grid */
        .grid { display: grid; }
        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
        
        /* Sizing */
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .min-h-screen { min-height: 100vh; }
        .max-w-sm { max-width: 380px; }
        .max-w-md { max-width: 440px; }
        
        /* Text */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }
        .font-light { font-weight: 300; }
        .font-normal { font-weight: 400; }
        .font-medium { font-weight: 500; }
        .font-bold { font-weight: 700; }
        .font-black { font-weight: 900; }
        .uppercase { text-transform: uppercase; }
        .lowercase { text-transform: lowercase; }
        .capitalize { text-transform: capitalize; }
        .tracking-wide { letter-spacing: 0.5px; }
        .tracking-wider { letter-spacing: 1px; }
        .leading-tight { line-height: 1.2; }
        .leading-relaxed { line-height: 1.8; }
        .truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* Text Sizes */
        .text-xs { font-size: var(--text-xs); }
        .text-sm { font-size: var(--text-sm); }
        .text-base { font-size: var(--text-base); }
        .text-lg { font-size: var(--text-lg); }
        .text-xl { font-size: var(--text-xl); }
        .text-2xl { font-size: var(--text-2xl); }
        .text-3xl { font-size: var(--text-3xl); }
        .text-4xl { font-size: var(--text-4xl); }
        .text-5xl { font-size: var(--text-5xl); }
        
        /* Text Colors */
        .text-primary { color: var(--text-primary); }
        .text-secondary { color: var(--text-secondary); }
        .text-muted { color: var(--text-muted); }
        .text-dim { color: var(--text-dim); }
        .text-success { color: var(--color-success); }
        .text-danger { color: var(--color-danger); }
        .text-warning { color: var(--color-warning); }
        .text-info { color: var(--color-info); }
        
        /* Gradient Text */
        .text-gradient {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .text-gradient-cosmic {
            background: var(--gradient-cosmic);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 5s ease infinite;
        }
        
        /* Spacing - Margin */
        .m-0 { margin: 0; }
        .m-1 { margin: var(--space-1); }
        .m-2 { margin: var(--space-2); }
        .m-3 { margin: var(--space-3); }
        .m-4 { margin: var(--space-4); }
        .m-5 { margin: var(--space-5); }
        .m-6 { margin: var(--space-6); }
        .m-8 { margin: var(--space-8); }
        
        .mt-0 { margin-top: 0; }
        .mt-1 { margin-top: var(--space-1); }
        .mt-2 { margin-top: var(--space-2); }
        .mt-3 { margin-top: var(--space-3); }
        .mt-4 { margin-top: var(--space-4); }
        .mt-5 { margin-top: var(--space-5); }
        .mt-6 { margin-top: var(--space-6); }
        .mt-8 { margin-top: var(--space-8); }
        .mt-10 { margin-top: var(--space-10); }
        .mt-12 { margin-top: var(--space-12); }
        
        .mb-0 { margin-bottom: 0; }
        .mb-1 { margin-bottom: var(--space-1); }
        .mb-2 { margin-bottom: var(--space-2); }
        .mb-3 { margin-bottom: var(--space-3); }
        .mb-4 { margin-bottom: var(--space-4); }
        .mb-5 { margin-bottom: var(--space-5); }
        .mb-6 { margin-bottom: var(--space-6); }
        .mb-8 { margin-bottom: var(--space-8); }
        
        .mx-auto { margin-left: auto; margin-right: auto; }
        
        /* Spacing - Padding */
        .p-0 { padding: 0; }
        .p-1 { padding: var(--space-1); }
        .p-2 { padding: var(--space-2); }
        .p-3 { padding: var(--space-3); }
        .p-4 { padding: var(--space-4); }
        .p-5 { padding: var(--space-5); }
        .p-6 { padding: var(--space-6); }
        .p-8 { padding: var(--space-8); }
        
        .px-1 { padding-left: var(--space-1); padding-right: var(--space-1); }
        .px-2 { padding-left: var(--space-2); padding-right: var(--space-2); }
        .px-3 { padding-left: var(--space-3); padding-right: var(--space-3); }
        .px-4 { padding-left: var(--space-4); padding-right: var(--space-4); }
        .px-5 { padding-left: var(--space-5); padding-right: var(--space-5); }
        .px-6 { padding-left: var(--space-6); padding-right: var(--space-6); }
        
        .py-1 { padding-top: var(--space-1); padding-bottom: var(--space-1); }
        .py-2 { padding-top: var(--space-2); padding-bottom: var(--space-2); }
        .py-3 { padding-top: var(--space-3); padding-bottom: var(--space-3); }
        .py-4 { padding-top: var(--space-4); padding-bottom: var(--space-4); }
        .py-5 { padding-top: var(--space-5); padding-bottom: var(--space-5); }
        .py-6 { padding-top: var(--space-6); padding-bottom: var(--space-6); }
        
        /* Gap */
        .gap-1 { gap: var(--space-1); }
        .gap-2 { gap: var(--space-2); }
        .gap-3 { gap: var(--space-3); }
        .gap-4 { gap: var(--space-4); }
        .gap-5 { gap: var(--space-5); }
        .gap-6 { gap: var(--space-6); }
        .gap-8 { gap: var(--space-8); }
        
        /* Space-Y */
        .space-y-2 > * + * { margin-top: var(--space-2); }
        .space-y-3 > * + * { margin-top: var(--space-3); }
        .space-y-4 > * + * { margin-top: var(--space-4); }
        .space-y-5 > * + * { margin-top: var(--space-5); }
        .space-y-6 > * + * { margin-top: var(--space-6); }
        
        /* Visibility */
        .hidden { display: none !important; }
        .invisible { visibility: hidden; }
        .visible { visibility: visible; }
        .opacity-0 { opacity: 0; }
        .opacity-50 { opacity: 0.5; }
        .opacity-100 { opacity: 1; }
        
        /* Position */
        .relative { position: relative; }
        .absolute { position: absolute; }
        .fixed { position: fixed; }
        .sticky { position: sticky; }
        .inset-0 { inset: 0; }
        .top-0 { top: 0; }
        .right-0 { right: 0; }
        .bottom-0 { bottom: 0; }
        .left-0 { left: 0; }
        
        /* Z-Index */
        .z-0 { z-index: 0; }
        .z-10 { z-index: 10; }
        .z-20 { z-index: 20; }
        .z-30 { z-index: 30; }
        .z-50 { z-index: 50; }
        .z-100 { z-index: 100; }
        
        /* Overflow */
        .overflow-hidden { overflow: hidden; }
        .overflow-auto { overflow: auto; }
        .overflow-x-auto { overflow-x: auto; }
        .overflow-y-auto { overflow-y: auto; }
        
        /* Border Radius */
        .rounded-none { border-radius: 0; }
        .rounded-sm { border-radius: var(--radius-sm); }
        .rounded-md { border-radius: var(--radius-md); }
        .rounded-lg { border-radius: var(--radius-lg); }
        .rounded-xl { border-radius: var(--radius-xl); }
        .rounded-2xl { border-radius: var(--radius-2xl); }
        .rounded-full { border-radius: var(--radius-full); }
        
        /* Shadows */
        .shadow-sm { box-shadow: var(--shadow-sm); }
        .shadow-md { box-shadow: var(--shadow-md); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
        .shadow-xl { box-shadow: var(--shadow-xl); }
        .shadow-2xl { box-shadow: var(--shadow-2xl); }
        .shadow-glow { box-shadow: var(--glow-primary); }
        
        /* Cursor */
        .cursor-pointer { cursor: pointer; }
        .cursor-default { cursor: default; }
        .cursor-not-allowed { cursor: not-allowed; }
        
        /* Pointer Events */
        .pointer-events-none { pointer-events: none; }
        .pointer-events-auto { pointer-events: auto; }
        
        /* Select */
        .select-none { user-select: none; -webkit-user-select: none; }
        .select-text { user-select: text; -webkit-user-select: text; }
        
        /* Transitions */
        .transition { transition: all var(--transition-normal); }
        .transition-fast { transition: all var(--transition-fast); }
        .transition-slow { transition: all var(--transition-slow); }
        
        /* Transforms */
        .scale-95 { transform: scale(0.95); }
        .scale-100 { transform: scale(1); }
        .scale-105 { transform: scale(1.05); }
        .scale-110 { transform: scale(1.1); }
        .rotate-45 { transform: rotate(45deg); }
        .rotate-90 { transform: rotate(90deg); }
        .rotate-180 { transform: rotate(180deg); }
        
        /* Special Padding for Action Bar */
        .pb-action { padding-bottom: 120px; }
        .pb-safe { padding-bottom: calc(var(--space-6) + var(--safe-bottom)); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ­ ANIMATIONS LIBRARY
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        /* Fade Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        /* Slide Animations */
        @keyframes slideInUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideInDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        /* Bounce & Elastic */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes elastic {
            0% { transform: scale(0); }
            55% { transform: scale(1.1); }
            70% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }
        
        /* Shake */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
        }
        
        /* Pulse */
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }
        
        @keyframes pulseRing {
            0% { transform: scale(0.9); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        /* Spin */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes spinReverse {
            from { transform: rotate(360deg); }
            to { transform: rotate(0deg); }
        }
        
        /* Float */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }
        
        @keyframes floatRotate {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-8px) rotate(3deg); }
            75% { transform: translateY(-4px) rotate(-3deg); }
        }
        
        /* Glow */
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px var(--color-primary); }
            50% { box-shadow: 0 0 60px var(--color-primary), 0 0 100px var(--color-secondary); }
        }
        
        /* Shimmer */
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        /* Animation Classes */
        .animate-fade-in { animation: fadeIn 0.5s var(--ease-out-expo) forwards; }
        .animate-fade-in-up { animation: fadeInUp 0.5s var(--ease-out-expo) forwards; }
        .animate-fade-in-down { animation: fadeInDown 0.5s var(--ease-out-expo) forwards; }
        .animate-fade-in-scale { animation: fadeInScale 0.5s var(--ease-out-expo) forwards; }
        .animate-bounce { animation: bounce 2s ease-in-out infinite; }
        .animate-bounce-in { animation: bounceIn 0.6s var(--ease-elastic) forwards; }
        .animate-pulse { animation: pulse 2s ease-in-out infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        .animate-float { animation: float 3s ease-in-out infinite; }
        .animate-glow { animation: glow 2s ease-in-out infinite; }
        .animate-shake { animation: shake 0.5s ease-in-out; }
        
        /* Stagger Delays */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-1000 { animation-delay: 1s; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ“± RESPONSIVE BREAKPOINTS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 380px) {
            :root {
                --text-base: 0.9375rem;
                --text-lg: 1rem;
                --text-xl: 1.125rem;
                --text-2xl: 1.375rem;
            }
            
            .btn { padding: var(--space-3) var(--space-5); }
            .btn-lg { padding: var(--space-4) var(--space-6); }
            .card { padding: var(--space-4); }
        }
        
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸŒ™ DARK MODE SPECIFIC ENHANCEMENTS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (prefers-color-scheme: dark) {
            :root:not([data-theme="light"]) {
                color-scheme: dark;
            }
        }
    </style>
</head>
<body>
    <!-- ğŸŒŒ Cosmic Background -->
    <div id="cosmic-bg">
        <div class="gradient-mesh"></div>
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="orb orb-4"></div>
        <div class="stars"></div>
        <div class="aurora-line"></div>
        <div class="aurora-line"></div>
        <div class="aurora-line"></div>
        <div class="aurora-line"></div>
        <div class="noise-overlay"></div>
    </div>

    <!-- ğŸ¬ Splash Screen -->
    <div id="splash-screen">
        <div class="splash-logo-container">
            <div class="splash-logo">
                <div class="splash-ring splash-ring-1"></div>
                <div class="splash-ring splash-ring-2"></div>
                <div class="splash-ring splash-ring-3"></div>
                <div class="splash-logo-face">
                    <span class="material-icons-round">auto_awesome</span>
                </div>
            </div>
        </div>
        
        <h1 class="splash-title">PDF Maker Pro</h1>
        <p class="splash-subtitle">ØªØ¬Ø±Ø¨Ø© ØªØ­ÙˆÙŠÙ„ Ø®Ø§Ø±Ù‚Ø©</p>
        
        <div class="splash-progress-container">
            <div class="splash-progress-track">
                <div class="splash-progress-glow"></div>
                <div id="splash-progress-bar" class="splash-progress-bar"></div>
            </div>
        </div>
        
        <div class="splash-status">
            <span class="splash-status-dot"></span>
            <span id="splash-status-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
        </div>
        
        <div class="splash-version">
            <span>v9.0.0 â€” Mohamed Elherd</span>
        </div>
    </div>

    <!-- ğŸ“± Main App Container -->
    <div id="app">
              <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ğŸ  PAGE: WELCOME - IMMERSIVE HERO
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="page-welcome" class="page active">
            <div class="scroll-area flex flex-col items-center justify-center p-6">
                
                <!-- Floating Particles -->
                <div class="welcome-particles">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                
                <!-- Hero Logo -->
                <div class="welcome-hero mb-8">
                    <div class="icon-circle icon-circle-lg animated">
                        <span class="material-icons-round">auto_awesome</span>
                    </div>
                    
                    <!-- Orbiting Icons -->
                    <div class="orbit-container">
                        <div class="orbit-item orbit-1">
                            <span class="material-icons-round">picture_as_pdf</span>
                        </div>
                        <div class="orbit-item orbit-2">
                            <span class="material-icons-round">image</span>
                        </div>
                        <div class="orbit-item orbit-3">
                            <span class="material-icons-round">auto_fix_high</span>
                        </div>
                    </div>
                </div>
                
                <!-- Title Section -->
                <div class="text-center mb-8">
                    <h1 class="welcome-title text-5xl font-black mb-3">
                        <span class="text-gradient-cosmic">PDF Maker</span>
                        <span class="welcome-pro-badge">PRO</span>
                    </h1>
                    <p class="text-lg text-secondary mb-2">Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</p>
                    <p class="text-sm text-muted">
                        <span class="welcome-version-dot"></span>
                        Ø§Ù„Ø¥ØµØ¯Ø§Ø± 9.0 â€” ØªØ¬Ø±Ø¨Ø© Ø®Ø§Ø±Ù‚Ø©
                    </p>
                </div>
                
                <!-- Action Buttons -->
                <div class="welcome-actions w-full max-w-sm space-y-4">
                    <button id="btn-start-pdf" class="btn btn-primary btn-xl btn-block btn-glow group">
                        <span class="btn-icon-wrapper">
                            <span class="material-icons-round">picture_as_pdf</span>
                        </span>
                        <span class="btn-text">
                            <span class="btn-title">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† PDF</span>
                            <span class="btn-subtitle">Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ù„ØµÙˆØ± Ø¨Ø°ÙƒØ§Ø¡</span>
                        </span>
                        <span class="btn-arrow material-icons-round">arrow_back</span>
                        <span class="btn-shine"></span>
                    </button>
                    
                    <button id="btn-start-images" class="btn btn-secondary btn-xl btn-block group">
                        <span class="btn-icon-wrapper secondary">
                            <span class="material-icons-round">photo_library</span>
                        </span>
                        <span class="btn-text">
                            <span class="btn-title">ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±</span>
                            <span class="btn-subtitle">Ø§Ø®ØªØ± ØµÙˆØ±Ùƒ ÙˆØ­ÙˆÙ„Ù‡Ø§</span>
                        </span>
                        <span class="btn-arrow material-icons-round">arrow_back</span>
                    </button>
                </div>
                
                <!-- Features Showcase -->
                <div class="welcome-features mt-10 w-full max-w-sm">
                    <div class="features-header text-center mb-5">
                        <span class="features-badge">
                            <span class="material-icons-round">stars</span>
                            Ù…Ù…ÙŠØ²Ø§Øª Ø­ØµØ±ÙŠØ©
                        </span>
                    </div>
                    
                    <div class="features-grid">
                        <div class="feature-card animate-fade-in-up delay-100">
                            <div class="feature-icon">
                                <span class="material-icons-round">psychology</span>
                            </div>
                            <div class="feature-content">
                                <h4>Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h4>
                                <p>ÙƒØ´Ù Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up delay-200">
                            <div class="feature-icon success">
                                <span class="material-icons-round">bolt</span>
                            </div>
                            <div class="feature-content">
                                <h4>Ø³Ø±Ø¹Ø© ÙØ§Ø¦Ù‚Ø©</h4>
                                <p>Ù…Ø¹Ø§Ù„Ø¬Ø© ÙÙŠ Ø«ÙˆØ§Ù†Ù</p>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up delay-300">
                            <div class="feature-icon accent">
                                <span class="material-icons-round">dashboard_customize</span>
                            </div>
                            <div class="feature-content">
                                <h4>6 ØªØ®Ø·ÙŠØ·Ø§Øª</h4>
                                <p>ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ Ø¨Ø§Ù„Ø´ÙƒÙ„</p>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up delay-400">
                            <div class="feature-icon info">
                                <span class="material-icons-round">share</span>
                            </div>
                            <div class="feature-content">
                                <h4>Ù…Ø´Ø§Ø±ÙƒØ© ÙÙˆØ±ÙŠØ©</h4>
                                <p>Ø£Ø±Ø³Ù„ Ù„Ø£ÙŠ ØªØ·Ø¨ÙŠÙ‚</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Stats Counter -->
                <div class="welcome-stats mt-8 w-full max-w-sm">
                    <div class="stats-grid">
                        <div class="stat-card glass">
                            <div class="stat-icon">
                                <span class="material-icons-round">description</span>
                            </div>
                            <div class="stat-info">
                                <span id="stat-total-converted" class="stat-value counting">0</span>
                                <span class="stat-label">Ù…Ù„Ù Ù…Ø­ÙˆÙ„</span>
                            </div>
                        </div>
                        <div class="stat-card glass">
                            <div class="stat-icon success">
                                <span class="material-icons-round">photo</span>
                            </div>
                            <div class="stat-info">
                                <span id="stat-total-images" class="stat-value success counting">0</span>
                                <span class="stat-label">ØµÙˆØ±Ø© Ù…Ø¹Ø§Ù„Ø¬Ø©</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Button -->
                <button id="btn-open-settings" class="welcome-settings-btn mt-6">
                    <span class="material-icons-round">tune</span>
                    <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                </button>
                
            </div>
            
            <!-- Steps Indicator -->
            <div class="steps-indicator">
                <div class="step-dot active"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ğŸ“ PAGE: FILE SELECTION
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="page-file" class="page">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="header-nav">
                        <button id="btn-back-to-welcome" class="btn btn-ghost btn-icon" style="color: white;">
                            <span class="material-icons-round">arrow_forward</span>
                        </button>
                        <button class="btn btn-ghost btn-icon" style="color: white;">
                            <span class="material-icons-round">help_outline</span>
                        </button>
                    </div>
                    <h1 id="file-page-title" class="header-title">Ø§Ø®ØªØ± Ù…Ù„Ù PDF</h1>
                    <p id="file-page-subtitle" class="header-subtitle">Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØµÙˆØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                </div>
            </div>
            
            <!-- Content -->
            <div class="scroll-area p-4 pb-action">
                <!-- Drop Zone -->
                <div id="drop-zone" class="drop-zone">
                    <div class="drop-zone-content">
                        <div class="drop-zone-icon">
                            <div class="icon-circle icon-circle-sm animated" id="drop-zone-icon-circle">
                                <span id="drop-zone-icon" class="material-icons-round" style="font-size: 32px;">cloud_upload</span>
                            </div>
                        </div>
                        <h3 id="drop-zone-title" class="drop-zone-title">Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</h3>
                        <p id="drop-zone-subtitle" class="drop-zone-subtitle">Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„Ù ÙˆØ£ÙÙ„ØªÙ‡ Ù‡Ù†Ø§</p>
                        
                        <!-- File Info (Hidden initially) -->
                        <div id="file-selected-info" class="file-selected-info hidden">
                            <div class="file-info-icon">
                                <span class="material-icons-round">check_circle</span>
                            </div>
                            <div class="file-info-details">
                                <span id="selected-file-name" class="file-name">document.pdf</span>
                                <span id="selected-file-size" class="file-size">2.5 MB</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Animated Border -->
                    <div class="drop-zone-border"></div>
                </div>
                
                <!-- Hidden Inputs -->
                <input type="file" id="input-pdf" accept=".pdf,application/pdf" hidden>
                <input type="file" id="input-images" accept="image/*" multiple hidden>
                
                <!-- Processing Status -->
                <div id="processing-status" class="processing-status hidden mt-5">
                    <div class="processing-card">
                        <div class="processing-header">
                            <div class="processing-spinner">
                                <div class="spinner">
                                    <div class="spinner-ring"></div>
                                    <div class="spinner-ring"></div>
                                    <div class="spinner-ring"></div>
                                </div>
                            </div>
                            <div class="processing-info">
                                <span id="processing-title" class="processing-title">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬...</span>
                                <span id="processing-detail" class="processing-detail">ØµÙØ­Ø© 1 Ù…Ù† 10</span>
                            </div>
                        </div>
                        <div class="processing-progress">
                            <div class="progress-linear">
                                <div class="progress-linear-glow"></div>
                                <div id="processing-bar" class="progress-linear-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Results Section -->
                <div id="extraction-results" class="extraction-results hidden mt-6">
                    <!-- Stats -->
                    <div class="stats-grid mb-5">
                        <div class="stat-card">
                            <div class="stat-value" id="result-total-images">0</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙˆØ±</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value success" id="result-valid-images">0</div>
                            <div class="stat-label">ØµÙˆØ± ØµØ§Ù„Ø­Ø©</div>
                        </div>
                    </div>
                    
                    <!-- Analysis Details -->
                    <div class="card card-glass mb-5">
                        <div class="analysis-header">
                            <span class="material-icons-round">analytics</span>
                            <span>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„</span>
                        </div>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <span class="analysis-icon warning">
                                    <span class="material-icons-round">content_copy</span>
                                </span>
                                <div class="analysis-info">
                                    <span class="analysis-label">Ù…ÙƒØ±Ø±Ø©</span>
                                    <span id="result-duplicates" class="analysis-value">0</span>
                                </div>
                            </div>
                            <div class="analysis-item">
                                <span class="analysis-icon danger">
                                    <span class="material-icons-round">block</span>
                                </span>
                                <div class="analysis-info">
                                    <span class="analysis-label">Ø´Ø¹Ø§Ø±Ø§Øª</span>
                                    <span id="result-logos" class="analysis-value">0</span>
                                </div>
                            </div>
                            <div class="analysis-item">
                                <span class="analysis-icon info">
                                    <span class="material-icons-round">timer</span>
                                </span>
                                <div class="analysis-info">
                                    <span class="analysis-label">Ø§Ù„Ù…Ø¯Ø©</span>
                                    <span id="result-time" class="analysis-value">0 Ø«</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Continue Button -->
                    <button id="btn-to-gallery" class="btn btn-success btn-block btn-lg">
                        <span class="material-icons-round">visibility</span>
                        Ù…Ø¹Ø§ÙŠÙ†Ø© ÙˆØªØ®ØµÙŠØµ Ø§Ù„ØµÙˆØ±
                        <span class="material-icons-round">arrow_back</span>
                    </button>
                </div>
                
                <!-- Tips Section -->
                <div id="tips-section" class="tips-section mt-6">
                    <div class="card card-gradient">
                        <div class="tip-header">
                            <span class="tip-icon material-icons-round">lightbulb</span>
                            <span class="tip-title">Ù†ØµØ§Ø¦Ø­ Ø³Ø±ÙŠØ¹Ø©</span>
                        </div>
                        <ul class="tip-list">
                            <li>
                                <span class="material-icons-round">check</span>
                                ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù„ÙØ§Øª PDF Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¬Ø§Ù…
                            </li>
                            <li>
                                <span class="material-icons-round">check</span>
                                ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØµÙˆØ± Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©
                            </li>
                            <li>
                                <span class="material-icons-round">check</span>
                                Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ÙƒØ±Ø±Ø© ØªÙÙƒØªØ´Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Steps -->
            <div class="steps-indicator">
                <div class="step-dot completed"></div>
                <div class="step-dot active"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ğŸ–¼ï¸ PAGE: GALLERY
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="page-gallery" class="page">
            <!-- Header -->
            <div class="header header-compact">
                <div class="header-content">
                    <div class="header-nav">
                        <button id="btn-back-to-file" class="btn btn-ghost btn-icon" style="color: white;">
                            <span class="material-icons-round">arrow_forward</span>
                        </button>
                        <div class="header-center">
                            <span id="gallery-selection-count" class="selection-badge">
                                <span class="material-icons-round">check_circle</span>
                                <span id="selection-count-text">0 Ù…Ø­Ø¯Ø¯Ø©</span>
                            </span>
                        </div>
                        <button id="btn-gallery-menu" class="btn btn-ghost btn-icon" style="color: white;">
                            <span class="material-icons-round">more_vert</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Tabs -->
            <div class="tabs-container">
                <div class="tabs" id="gallery-tabs">
                    <button class="tab active" data-filter="all">
                        <span>Ø§Ù„ÙƒÙ„</span>
                        <span id="tab-count-all" class="tab-badge">0</span>
                    </button>
                    <button class="tab" data-filter="valid">
                        <span class="material-icons-round" style="font-size: 16px;">check_circle</span>
                        <span>ØµØ§Ù„Ø­Ø©</span>
                        <span id="tab-count-valid" class="tab-badge">0</span>
                    </button>
                    <button class="tab" data-filter="duplicate">
                        <span class="material-icons-round" style="font-size: 16px;">content_copy</span>
                        <span>Ù…ÙƒØ±Ø±Ø©</span>
                        <span id="tab-count-duplicate" class="tab-badge">0</span>
                    </button>
                    <button class="tab" data-filter="logo">
                        <span class="material-icons-round" style="font-size: 16px;">block</span>
                        <span>Ø´Ø¹Ø§Ø±Ø§Øª</span>
                        <span id="tab-count-logo" class="tab-badge">0</span>
                    </button>
                </div>
            </div>
            
            <!-- Gallery Grid -->
            <div class="scroll-area pb-action">
                <div id="gallery-grid" class="gallery">
                    <!-- Images will be inserted dynamically -->
                </div>
                
                <!-- Empty State -->
                <div id="gallery-empty" class="gallery-empty hidden">
                    <span class="gallery-empty-icon material-icons-round">image_not_supported</span>
                    <h3 class="gallery-empty-title">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±</h3>
                    <p class="gallery-empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ</p>
                </div>
            </div>
            
            <!-- Action Bar -->
            <div class="action-bar">
                <button id="btn-select-all" class="btn btn-secondary flex-1">
                    <span class="material-icons-round">select_all</span>
                    ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„
                </button>
                <button id="btn-to-settings" class="btn btn-primary flex-1">
                    <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                    <span class="material-icons-round">arrow_back</span>
                </button>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             âš™ï¸ PAGE: PDF SETTINGS
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="page-settings" class="page">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="header-nav">
                        <button id="btn-back-to-gallery" class="btn btn-ghost btn-icon" style="color: white;">
                            <span class="material-icons-round">arrow_forward</span>
                        </button>
                        <button class="btn btn-ghost btn-icon" style="color: white;">
                            <span class="material-icons-round">preview</span>
                        </button>
                    </div>
                    <h1 class="header-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª PDF</h1>
                    <p class="header-subtitle">Ø®ØµØµ Ø´ÙƒÙ„ Ù…Ù„ÙÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</p>
                </div>
            </div>
            
            <!-- Content -->
            <div class="scroll-area p-4 pb-action">
                <!-- Layout Selection -->
                <div class="settings-section">
                    <div class="section-header">
                        <span class="section-icon material-icons-round">grid_view</span>
                        <div class="section-text">
                            <h3 class="section-title">ØªØ®Ø·ÙŠØ· Ø§Ù„ØµÙØ­Ø©</h3>
                            <p class="section-subtitle">Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± ÙÙŠ ÙƒÙ„ ØµÙØ­Ø©</p>
                        </div>
                    </div>
                    <div id="layout-grid" class="layout-grid">
                        <!-- Layouts will be inserted dynamically -->
                    </div>
                </div>
                
                <!-- Pages Preview -->
                <div class="pages-preview-card mb-5">
                    <div class="pages-preview-content">
                        <div class="pages-preview-icon">
                            <span class="material-icons-round">description</span>
                        </div>
                        <div class="pages-preview-info">
                            <span class="pages-preview-label">Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span>
                            <span class="pages-preview-hint">Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ø®ØªØ§Ø±</span>
                        </div>
                        <div class="pages-preview-value">
                            <span id="expected-pages-count" class="text-gradient text-4xl font-black">0</span>
                            <span class="text-muted text-sm">ØµÙØ­Ø©</span>
                        </div>
                    </div>
                </div>
                
                <!-- File Name -->
                <div class="settings-section">
                    <div class="section-header">
                        <span class="section-icon material-icons-round">edit</span>
                        <div class="section-text">
                            <h3 class="section-title">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</h3>
                        </div>
                    </div>
                    <div class="input-wrapper">
                        <input type="text" id="pdf-filename-input" class="input" placeholder="document">
                        <span class="input-icon material-icons-round">drive_file_rename_outline</span>
                    </div>
                </div>
                
                <!-- Options -->
                <div class="settings-section">
                    <div class="section-header">
                        <span class="section-icon material-icons-round">tune</span>
                        <div class="section-text">
                            <h3 class="section-title">Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                        </div>
                    </div>
                    <div class="options-list space-y-3">
                        <div class="toggle-item" id="toggle-auto-download">
                            <div class="toggle-item-icon">
                                <span class="material-icons-round">download</span>
                            </div>
                            <div class="toggle-content">
                                <span class="toggle-title">ØªØ­Ù…ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ</span>
                                <span class="toggle-description">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙÙˆØ± Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</span>
                            </div>
                            <div id="switch-auto-download" class="toggle-switch active"></div>
                        </div>
                        
                        <div class="toggle-item" id="toggle-add-border">
                            <div class="toggle-item-icon">
                                <span class="material-icons-round">crop_square</span>
                            </div>
                            <div class="toggle-content">
                                <span class="toggle-title">Ø¥Ø·Ø§Ø± Ù„Ù„ØµÙˆØ±</span>
                                <span class="toggle-description">Ø¥Ø¶Ø§ÙØ© Ø­Ø¯ Ø®ÙÙŠÙ Ø­ÙˆÙ„ ÙƒÙ„ ØµÙˆØ±Ø©</span>
                            </div>
                            <div id="switch-add-border" class="toggle-switch active"></div>
                        </div>
                        
                        <div class="toggle-item" id="toggle-high-quality">
                            <div class="toggle-item-icon">
                                <span class="material-icons-round">hd</span>
                            </div>
                            <div class="toggle-content">
                                <span class="toggle-title">Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©</span>
                                <span class="toggle-description">ØµÙˆØ± Ø£ÙˆØ¶Ø­ Ù…Ø¹ Ø­Ø¬Ù… Ø£ÙƒØ¨Ø±</span>
                            </div>
                            <div id="switch-high-quality" class="toggle-switch"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Summary -->
                <div class="summary-card">
                    <div class="summary-header">
                        <span class="material-icons-round">summarize</span>
                        <span>Ù…Ù„Ø®Øµ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</span>
                    </div>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <span class="summary-label">Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</span>
                            <span id="summary-selected" class="summary-value success">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø³ØªØ¨Ø¹Ø¯Ø©</span>
                            <span id="summary-excluded" class="summary-value muted">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Ø§Ù„ØªØ®Ø·ÙŠØ·</span>
                            <span id="summary-layout" class="summary-value">6 ØµÙˆØ±/ØµÙØ­Ø©</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Ø§Ù„Ø­Ø¬Ù… Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ</span>
                            <span id="summary-size" class="summary-value">~2 MB</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Bar -->
            <div class="action-bar">
                <button id="btn-create-pdf" class="btn btn-success btn-block btn-xl btn-glow">
                    <span class="material-icons-round">picture_as_pdf</span>
                    <span>Ø¥Ù†Ø´Ø§Ø¡ PDF</span>
                    <span class="btn-shine"></span>
                </button>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â³ PAGE: PROCESSING
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="page-processing" class="page">
            <div class="scroll-area flex flex-col items-center justify-center p-6">
                
                <!-- Animated Background -->
                <div class="processing-bg-animation">
                    <div class="processing-wave"></div>
                    <div class="processing-wave"></div>
                    <div class="processing-wave"></div>
                </div>
                
                <!-- Progress Circle -->
                <div class="progress-circle-container mb-6">
                    <svg class="progress-circle-svg" width="220" height="220" viewBox="0 0 220 220">
                        <defs>
                            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#667eea"/>
                                <stop offset="50%" stop-color="#764ba2"/>
                                <stop offset="100%" stop-color="#f093fb"/>
                            </linearGradient>
                        </defs>
                        <circle class="progress-circle-bg" cx="110" cy="110" r="95"/>
                        <circle class="progress-circle-glow" cx="110" cy="110" r="95" 
                                stroke-dasharray="597" stroke-dashoffset="597"/>
                        <circle id="progress-circle-bar" class="progress-circle-bar" cx="110" cy="110" r="95" 
                                stroke-dasharray="597" stroke-dashoffset="597"/>
                    </svg>
                    <div class="progress-circle-text">
                        <span id="progress-percentage" class="progress-circle-value">0%</span>
                        <span id="progress-status-text" class="progress-circle-label">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯...</span>
                    </div>
                </div>
                
                <!-- Title -->
                <h2 class="text-2xl font-bold mb-2 text-center">Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ PDF</h2>
                <p class="text-muted text-center mb-6">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</p>
                
                <!-- Live Stats -->
                <div class="stats-grid w-full max-w-sm mb-6">
                    <div class="stat-card glass">
                        <div class="stat-value text-2xl" id="live-images-count">0</div>
                        <div class="stat-label">ØµÙˆØ±Ø© Ù…Ø¶Ø§ÙØ©</div>
                    </div>
                    <div class="stat-card glass">
                        <div class="stat-value text-2xl" id="live-pages-count">0</div>
                        <div class="stat-label">ØµÙØ­Ø© Ù…ÙƒØªÙ…Ù„Ø©</div>
                    </div>
                </div>
                
                <!-- Current Action -->
                <div class="current-action-card">
                    <div class="current-action-spinner">
                        <div class="spinner-pulse"></div>
                    </div>
                    <span id="current-action-text" class="current-action-text">ØªØ­Ø¶ÙŠØ± Ø§Ù„ØµÙˆØ±...</span>
                </div>
                
                <!-- Tips -->
                <div class="processing-tips mt-8">
                    <div class="tip-bubble">
                        <span class="material-icons-round">tips_and_updates</span>
                        <span id="processing-tip">ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             âœ… PAGE: RESULT
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="page-result" class="page">
            <div class="scroll-area p-6 pb-safe">
                
                <!-- Confetti Container -->
                <div id="confetti-container" class="confetti-container"></div>
                
                <!-- Success Animation -->
                <div class="result-hero text-center mb-6">
                    <div class="success-checkmark">
                        <div class="check-icon">
                            <span class="icon-line line-tip"></span>
                            <span class="icon-line line-long"></span>
                            <div class="icon-circle"></div>
                            <div class="icon-fix"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Title -->
                <div class="text-center mb-6">
                    <h1 class="text-3xl font-black mb-2">
                        <span class="text-gradient">ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!</span> ğŸ‰
                    </h1>
                    <p class="text-lg text-secondary">Ù…Ù„Ù PDF Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</p>
                </div>
                
                <!-- Result Stats -->
                <div class="stats-grid mb-6">
                    <div class="stat-card">
                        <div class="stat-value" id="final-images-count">0</div>
                        <div class="stat-label">ØµÙˆØ±Ø©</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value success" id="final-pages-count">0</div>
                        <div class="stat-label">ØµÙØ­Ø©</div>
                    </div>
                </div>
                
                <!-- File Info -->
                <div class="file-result-card mb-6">
                    <div class="file-result-icon">
                        <span class="material-icons-round">picture_as_pdf</span>
                    </div>
                    <div class="file-result-info">
                        <span id="final-filename" class="file-result-name">document.pdf</span>
                        <span id="final-filesize" class="file-result-size">2.5 MB</span>
                    </div>
                    <div class="file-result-badge">
                        <span class="material-icons-round">verified</span>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="result-actions space-y-3">
                    <button id="btn-download-pdf" class="btn btn-primary btn-block btn-xl btn-glow">
                        <span class="material-icons-round">download</span>
                        <span>ØªØ­Ù…ÙŠÙ„ PDF</span>
                    </button>
                    
                    <button id="btn-share-pdf" class="btn btn-secondary btn-block btn-lg">
                        <span class="material-icons-round">share</span>
                        <span>Ù…Ø´Ø§Ø±ÙƒØ©</span>
                    </button>
                    
                    <div class="flex gap-3">
                        <button id="btn-preview-pdf" class="btn btn-secondary flex-1">
                            <span class="material-icons-round">visibility</span>
                            <span>Ù…Ø¹Ø§ÙŠÙ†Ø©</span>
                        </button>
                        <button id="btn-new-conversion" class="btn btn-ghost flex-1">
                            <span class="material-icons-round">refresh</span>
                            <span>Ø¬Ø¯ÙŠØ¯</span>
                        </button>
                    </div>
                </div>
                
                <!-- Rate Section -->
                <div class="rate-card mt-8">
                    <div class="rate-header">
                        <span class="rate-emoji">â¤ï¸</span>
                        <span class="rate-title">Ù‡Ù„ Ø£Ø¹Ø¬Ø¨Ùƒ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŸ</span>
                    </div>
                    <div class="rate-stars" id="rate-stars">
                        <button class="rate-star" data-rating="1">â­</button>
                        <button class="rate-star" data-rating="2">â­</button>
                        <button class="rate-star" data-rating="3">â­</button>
                        <button class="rate-star" data-rating="4">â­</button>
                        <button class="rate-star" data-rating="5">â­</button>
                    </div>
                </div>
                
                <!-- Footer -->
                <div class="result-footer text-center mt-8">
                    <p class="text-sm text-muted">
                        PDF Maker Pro v9.0
                    </p>
                    <p class="text-xs text-dim mt-1">
                        ØµÙÙ†Ø¹ Ø¨Ù€ â¤ï¸ Ø¨ÙˆØ§Ø³Ø·Ø© Mohamed Elherd
                    </p>
                </div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ğŸ–¼ï¸ IMAGE VIEWER MODAL
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="image-viewer" class="viewer">
            <div class="viewer-header">
                <button id="viewer-close-btn" class="btn btn-ghost btn-icon" style="color: white;">
                    <span class="material-icons-round">close</span>
                </button>
                <span id="viewer-counter" class="viewer-counter">1 / 10</span>
                <button id="viewer-toggle-btn" class="btn btn-icon" style="background: var(--color-success);">
                    <span id="viewer-toggle-icon" class="material-icons-round">check</span>
                </button>
            </div>
            
            <div class="viewer-content">
                <img id="viewer-image" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" class="viewer-image">
            </div>
            
            <button id="viewer-prev-btn" class="viewer-nav prev">
                <span class="material-icons-round">chevron_right</span>
            </button>
            <button id="viewer-next-btn" class="viewer-nav next">
                <span class="material-icons-round">chevron_left</span>
            </button>
            
            <div class="viewer-footer">
                <button class="btn btn-ghost btn-icon-sm" style="color: white;">
                    <span class="material-icons-round">zoom_in</span>
                </button>
                <button class="btn btn-ghost btn-icon-sm" style="color: white;">
                    <span class="material-icons-round">info</span>
                </button>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             âš™ï¸ SETTINGS BOTTOM SHEET
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="settings-backdrop" class="modal-backdrop"></div>
        <div id="settings-sheet" class="bottom-sheet">
            <div class="bottom-sheet-header">
                <div class="bottom-sheet-handle"></div>
                <h2 class="bottom-sheet-title">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
            </div>
            <div class="bottom-sheet-content">
                <!-- Theme Toggle -->
                <div class="settings-group">
                    <h3 class="settings-group-title">Ø§Ù„Ù…Ø¸Ù‡Ø±</h3>
                    <div class="toggle-item" id="toggle-theme">
                        <div class="toggle-item-icon">
                            <span id="theme-icon" class="material-icons-round">dark_mode</span>
                        </div>
                        <div class="toggle-content">
                            <span class="toggle-title">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
                            <span class="toggle-description">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ø¯Ø§ÙƒÙ†</span>
                        </div>
                        <div id="switch-theme" class="toggle-switch active"></div>
                    </div>
                </div>
                
                <!-- Export Settings -->
                <div class="settings-group">
                    <h3 class="settings-group-title">Ø§Ù„ØªØµØ¯ÙŠØ±</h3>
                    <div class="toggle-item">
                        <div class="toggle-item-icon">
                            <span class="material-icons-round">high_quality</span>
                        </div>
                        <div class="toggle-content">
                            <span class="toggle-title">Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¶ØºØ·</span>
                            <span class="toggle-description">Ù…ØªÙˆØ³Ø·Ø© - ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø­Ø¬Ù…</span>
                        </div>
                        <span class="text-muted material-icons-round">chevron_left</span>
                    </div>
                </div>
                
                <!-- About -->
                <div class="settings-group">
                    <h3 class="settings-group-title">Ø­ÙˆÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                    <div class="about-card">
                        <div class="about-logo">
                            <span class="material-icons-round">auto_awesome</span>
                        </div>
                        <div class="about-info">
                            <h4>PDF Maker Pro</h4>
                            <p>Ø§Ù„Ø¥ØµØ¯Ø§Ø± 9.0.0</p>
                            <p class="text-dim">Â© 2024 Mohamed Elherd</p>
                        </div>
                    </div>
                </div>
                
                <button id="btn-close-settings" class="btn btn-secondary btn-block mt-5">
                    Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ğŸ TOAST CONTAINER
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="toast-container" class="toast-container"></div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             â³ LOADING OVERLAY
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <p id="loading-text" class="loading-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
            <div class="loading-progress" id="loading-progress-container" style="display: none;">
                <div class="progress-linear">
                    <div id="loading-progress-bar" class="progress-linear-bar" style="width: 0%"></div>
                </div>
            </div>
        </div>

    </div><!-- End #app -->

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ğŸ¨ ADDITIONAL COMPONENT STYLES
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <style>
        /* Welcome Page Specific Styles */
        .welcome-particles {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
        }
        
        .welcome-particles span {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--gradient-primary);
            border-radius: 50%;
            animation: particleFloat 15s infinite;
            opacity: 0.3;
        }
        
        .welcome-particles span:nth-child(1) { left: 10%; animation-delay: 0s; }
        .welcome-particles span:nth-child(2) { left: 30%; animation-delay: 2s; }
        .welcome-particles span:nth-child(3) { left: 50%; animation-delay: 4s; }
        .welcome-particles span:nth-child(4) { left: 70%; animation-delay: 6s; }
        .welcome-particles span:nth-child(5) { left: 90%; animation-delay: 8s; }
        .welcome-particles span:nth-child(6) { left: 20%; animation-delay: 10s; }
        
        @keyframes particleFloat {
            0%, 100% { transform: translateY(100vh) scale(0); opacity: 0; }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% { transform: translateY(-100vh) scale(1); opacity: 0; }
        }
        
        .welcome-hero {
            position: relative;
        }
        
        .orbit-container {
            position: absolute;
            inset: -40px;
            animation: orbitSpin 20s linear infinite;
        }
        
        .orbit-item {
            position: absolute;
            width: 36px;
            height: 36px;
            background: var(--bg-card);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            border: 2px solid var(--glass-border);
        }
        
        .orbit-item .material-icons-round {
            font-size: 18px;
            color: var(--color-primary);
        }
        
        .orbit-1 { top: 0; left: 50%; transform: translateX(-50%); }
        .orbit-2 { bottom: 10%; left: 0; }
        .orbit-3 { bottom: 10%; right: 0; }
        
        @keyframes orbitSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .welcome-title {
            position: relative;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .welcome-pro-badge {
            font-size: var(--text-sm);
            padding: var(--space-1) var(--space-3);
            background: var(--gradient-accent);
            color: white;
            border-radius: var(--radius-full);
            font-weight: 700;
            animation: badgePulse 2s ease-in-out infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .welcome-version-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--color-success);
            border-radius: 50%;
            margin-left: var(--space-2);
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* Button Enhanced Styles */
        .btn-icon-wrapper {
            width: 48px;
            height: 48px;
            background: rgba(255,255,255,0.2);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .btn-icon-wrapper.secondary {
            background: var(--color-primary);
        }
        
        .btn-text {
            flex: 1;
            text-align: right;
            display: flex;
            flex-direction: column;
        }
        
        .btn-title {
            font-size: var(--text-lg);
            font-weight: 700;
        }
        
        .btn-subtitle {
            font-size: var(--text-xs);
            opacity: 0.8;
        }
        
        .btn-arrow {
            opacity: 0;
            transform: translateX(10px);
            transition: all var(--transition-normal);
        }
        
        .btn:hover .btn-arrow {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Features Grid */
        .features-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            background: var(--bg-card);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--color-primary);
            border: 1px solid var(--glass-border);
        }
        
        .features-badge .material-icons-round {
            font-size: 18px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-3);
        }
        
        .feature-card {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--glass-border);
        }
        
        .feature-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: rgba(99, 102, 241, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .feature-icon .material-icons-round {
            font-size: 20px;
            color: var(--color-primary);
        }
        
        .feature-icon.success { background: rgba(16, 185, 129, 0.2); }
        .feature-icon.success .material-icons-round { color: var(--color-success); }
        .feature-icon.accent { background: rgba(244, 114, 182, 0.2); }
        .feature-icon.accent .material-icons-round { color: var(--color-accent); }
        .feature-icon.info { background: rgba(59, 130, 246, 0.2); }
        .feature-icon.info .material-icons-round { color: var(--color-info); }
        
        .feature-content h4 {
            font-size: var(--text-sm);
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .feature-content p {
            font-size: var(--text-xs);
            color: var(--text-muted);
        }
        
        /* Welcome Settings Button */
        .welcome-settings-btn {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-5);
            background: var(--bg-glass);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-full);
            color: var(--text-muted);
            font-size: var(--text-sm);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-normal);
            font-family: inherit;
        }
        
        .welcome-settings-btn:hover {
            background: var(--bg-glass-strong);
            color: var(--text-primary);
        }
        
        .welcome-settings-btn .material-icons-round {
            font-size: 18px;
        }
        
        /* Stat Card Glass */
        .stat-card.glass {
            background: var(--bg-glass);
            backdrop-filter: blur(var(--glass-blur));
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
        }
        
        .stat-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-md);
            background: rgba(99, 102, 241, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stat-icon .material-icons-round {
            color: var(--color-primary);
        }
        
        .stat-icon.success { background: rgba(16, 185, 129, 0.2); }
        .stat-icon.success .material-icons-round { color: var(--color-success); }
        
        .stat-info {
            display: flex;
            flex-direction: column;
        }
        
        /* File Selected Info */
        .file-selected-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-top: var(--space-4);
            padding: var(--space-3);
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .file-info-icon {
            color: var(--color-success);
        }
        
        .file-info-icon .material-icons-round {
            font-size: 28px;
        }
        
        .file-info-details {
            display: flex;
            flex-direction: column;
        }
        
        .file-name {
            font-weight: 700;
            color: var(--color-success);
        }
        
        .file-size {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        /* Processing Card */
        .processing-card {
            background: var(--bg-card);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            border: 1px solid var(--glass-border);
        }
        
        .processing-header {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            margin-bottom: var(--space-4);
        }
        
        .processing-spinner {
            flex-shrink: 0;
        }
        
        .processing-info {
            display: flex;
            flex-direction: column;
        }
        
        .processing-title {
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .processing-detail {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        /* Analysis Grid */
        .analysis-header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-weight: 700;
            margin-bottom: var(--space-4);
            color: var(--text-primary);
        }
        
        .analysis-header .material-icons-round {
            color: var(--color-primary);
        }
        
        .analysis-grid {
            display: flex;
            justify-content: space-between;
        }
        
        .analysis-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .analysis-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .analysis-icon .material-icons-round {
            font-size: 18px;
        }
        
        .analysis-icon.warning { background: rgba(245, 158, 11, 0.2); color: var(--color-warning); }
        .analysis-icon.danger { background: rgba(239, 68, 68, 0.2); color: var(--color-danger); }
        .analysis-icon.info { background: rgba(59, 130, 246, 0.2); color: var(--color-info); }
        
        .analysis-info {
            display: flex;
            flex-direction: column;
        }
        
        .analysis-label {
            font-size: var(--text-xs);
            color: var(--text-muted);
        }
        
        .analysis-value {
            font-weight: 700;
            color: var(--text-primary);
        }
        
        /* Tips Section */
        .tip-header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-3);
        }
        
        .tip-icon {
            color: var(--color-primary);
        }
        
        .tip-title {
            font-weight: 700;
        }
        
        .tip-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }
        
        .tip-list li {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        .tip-list li .material-icons-round {
            font-size: 16px;
            color: var(--color-success);
        }
        
        /* Selection Badge */
        .selection-badge {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
        }
        
        .selection-badge .material-icons-round {
            font-size: 16px;
        }
        
        /* Section Styles */
        .settings-section {
            margin-bottom: var(--space-6);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-4);
        }
        
        .section-icon {
            color: var(--color-primary);
        }
        
        .section-title {
            font-size: var(--text-lg);
            font-weight: 700;
        }
        
        .section-subtitle {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        /* Pages Preview Card */
        .pages-preview-card {
            background: var(--bg-card);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            border: 1px solid var(--glass-border);
        }
        
        .pages-preview-content {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }
        
        .pages-preview-icon {
            width: 56px;
            height: 56px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pages-preview-icon .material-icons-round {
            font-size: 28px;
            color: var(--color-primary);
        }
        
        .pages-preview-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .pages-preview-label {
            font-weight: 600;
        }
        
        .pages-preview-hint {
            font-size: var(--text-xs);
            color: var(--text-muted);
        }
        
        .pages-preview-value {
            text-align: center;
        }
        
        /* Summary Card */
        .summary-card {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
        }
        
        .summary-header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-weight: 700;
            margin-bottom: var(--space-4);
        }
        
        .summary-header .material-icons-round {
            color: var(--color-primary);
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-3);
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .summary-label {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        .summary-value {
            font-weight: 700;
        }
        
        .summary-value.success { color: var(--color-success); }
        .summary-value.muted { color: var(--text-muted); }
                /* Processing Page Background Animation */
        .processing-bg-animation {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
        }
        
        .processing-wave {
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: radial-gradient(ellipse at center, 
                rgba(99, 102, 241, 0.1) 0%, 
                transparent 70%);
            animation: waveRotate 20s linear infinite;
        }
        
        .processing-wave:nth-child(2) {
            animation-delay: -5s;
            background: radial-gradient(ellipse at center, 
                rgba(139, 92, 246, 0.1) 0%, 
                transparent 70%);
        }
        
        .processing-wave:nth-child(3) {
            animation-delay: -10s;
            background: radial-gradient(ellipse at center, 
                rgba(244, 114, 182, 0.1) 0%, 
                transparent 70%);
        }
        
        @keyframes waveRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Current Action Card */
        .current-action-card {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4) var(--space-5);
            background: var(--bg-card);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
        }
        
        .current-action-spinner {
            flex-shrink: 0;
        }
        
        .current-action-text {
            color: var(--text-muted);
            font-size: var(--text-sm);
        }
        
        /* Processing Tips */
        .processing-tips {
            text-align: center;
        }
        
        .tip-bubble {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-4);
            background: var(--bg-glass);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        .tip-bubble .material-icons-round {
            font-size: 18px;
            color: var(--color-primary);
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           âœ… SUCCESS CHECKMARK ANIMATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .success-checkmark {
            width: 120px;
            height: 120px;
            margin: 0 auto;
            position: relative;
        }
        
        .check-icon {
            width: 120px;
            height: 120px;
            position: relative;
            border-radius: 50%;
            box-sizing: content-box;
            border: 4px solid var(--color-success);
            animation: successCircle 0.6s var(--ease-out-expo);
        }
        
        .check-icon::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            background: var(--color-success);
            opacity: 0.2;
            animation: successPulse 1.5s ease-in-out infinite;
        }
        
        .check-icon .icon-line {
            height: 5px;
            background-color: var(--color-success);
            display: block;
            border-radius: 2px;
            position: absolute;
            z-index: 10;
        }
        
        .check-icon .line-tip {
            top: 62px;
            left: 26px;
            width: 30px;
            transform: rotate(45deg);
            animation: iconLineTip 0.75s var(--ease-out-expo) 0.2s forwards;
            transform-origin: left;
            opacity: 0;
        }
        
        .check-icon .line-long {
            top: 48px;
            right: 20px;
            width: 55px;
            transform: rotate(-45deg);
            animation: iconLineLong 0.75s var(--ease-out-expo) 0.3s forwards;
            transform-origin: left;
            opacity: 0;
        }
        
        @keyframes successCircle {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        @keyframes successPulse {
            0%, 100% { transform: scale(1); opacity: 0.2; }
            50% { transform: scale(1.1); opacity: 0.3; }
        }
        
        @keyframes iconLineTip {
            0% { width: 0; opacity: 1; }
            100% { width: 30px; opacity: 1; }
        }
        
        @keyframes iconLineLong {
            0% { width: 0; opacity: 1; }
            100% { width: 55px; opacity: 1; }
        }
        
        /* Confetti Container */
        .confetti-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 100;
            overflow: hidden;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
            animation: confettiFall 3s ease-out forwards;
        }
        
        @keyframes confettiFall {
            0% {
                opacity: 1;
                transform: translateY(-100%) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(720deg);
            }
        }
        
        /* File Result Card */
        .file-result-card {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-5);
            background: var(--bg-card);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
        }
        
        .file-result-icon {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #ef4444 0%, #f97316 100%);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .file-result-icon .material-icons-round {
            font-size: 28px;
            color: white;
        }
        
        .file-result-info {
            flex: 1;
            min-width: 0;
        }
        
        .file-result-name {
            display: block;
            font-weight: 700;
            font-size: var(--text-lg);
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .file-result-size {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        .file-result-badge {
            width: 36px;
            height: 36px;
            background: var(--color-success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .file-result-badge .material-icons-round {
            font-size: 20px;
            color: white;
        }
        
        /* Rate Card */
        .rate-card {
            background: var(--bg-card);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            text-align: center;
            border: 1px solid var(--glass-border);
        }
        
        .rate-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            margin-bottom: var(--space-4);
        }
        
        .rate-emoji {
            font-size: 24px;
        }
        
        .rate-title {
            font-weight: 700;
        }
        
        .rate-stars {
            display: flex;
            justify-content: center;
            gap: var(--space-2);
        }
        
        .rate-star {
            font-size: 28px;
            background: none;
            border: none;
            cursor: pointer;
            filter: grayscale(100%);
            opacity: 0.5;
            transition: all var(--transition-fast);
        }
        
        .rate-star:hover,
        .rate-star.active {
            filter: grayscale(0%);
            opacity: 1;
            transform: scale(1.2);
        }
        
        /* Settings Groups */
        .settings-group {
            margin-bottom: var(--space-6);
        }
        
        .settings-group-title {
            font-size: var(--text-sm);
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: var(--space-3);
            padding: 0 var(--space-2);
        }
        
        /* About Card */
        .about-card {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-4);
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
        }
        
        .about-logo {
            width: 56px;
            height: 56px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .about-logo .material-icons-round {
            font-size: 28px;
            color: white;
        }
        
        .about-info h4 {
            font-weight: 700;
            margin-bottom: var(--space-1);
        }
        
        .about-info p {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        /* Max Width Utilities */
        .max-w-sm { max-width: 380px; }
        .max-w-md { max-width: 440px; }
        .max-w-lg { max-width: 512px; }
        
        /* Header Center */
        .header-center {
            flex: 1;
            display: flex;
            justify-content: center;
        }
    </style>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ğŸš€ JAVASCRIPT - MEGA APPLICATION ENGINE
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script>
        /**
         * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
         * â•‘                    PDF MAKER PRO v9.0                         â•‘
         * â•‘              Ultimate PDF Conversion Engine                   â•‘
         * â•‘                  By Mohamed Elherd                            â•‘
         * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         */

        'use strict';

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ¯ CONFIGURATION - Application Settings
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const CONFIG = {
            // App Info
            name: 'PDF Maker Pro',
            version: '9.0.0',
            author: 'Mohamed Elherd',
            
            // Image Processing
            image: {
                minSize: 50,                    // Minimum dimension in pixels
                maxLogoSize: 30000,             // Max bytes for logo detection
                maxLogoDimension: 120,          // Max dimension for logo
                hashSize: 8,                    // Perceptual hash grid size
                similarityThreshold: 0.88,      // Duplicate detection threshold
                maxDimension: 800,              // Max size for processing
                quality: {
                    low: 0.5,
                    medium: 0.65,
                    high: 0.85
                },
                currentQuality: 'medium'
            },
            
            // PDF Settings
            pdf: {
                pageWidth: 210,                 // A4 width in mm
                pageHeight: 297,                // A4 height in mm
                margin: 5,                      // Page margin in mm
                cellPadding: 3,                 // Cell padding in mm
                borderWidth: 0.1,               // Border width in mm
                borderColor: [220, 220, 220]    // Border RGB color
            },
            
            // Layouts Configuration
            layouts: {
                1:  { cols: 1, rows: 1, label: '1 ØµÙˆØ±Ø©' },
                2:  { cols: 1, rows: 2, label: '2 ØµÙˆØ±' },
                4:  { cols: 2, rows: 2, label: '4 ØµÙˆØ±' },
                6:  { cols: 2, rows: 3, label: '6 ØµÙˆØ±' },
                9:  { cols: 3, rows: 3, label: '9 ØµÙˆØ±' },
                12: { cols: 3, rows: 4, label: '12 ØµÙˆØ±Ø©' },
                16: { cols: 4, rows: 4, label: '16 ØµÙˆØ±Ø©' }
            },
            
            // UI Settings
            ui: {
                splashDuration: 2000,           // Minimum splash screen duration
                toastDuration: 4000,            // Toast notification duration
                pageTransition: 500,            // Page transition duration
                debounceDelay: 300,             // Debounce delay
                rippleDuration: 600,            // Button ripple duration
                confettiCount: 50               // Number of confetti pieces
            },
            
            // Storage Keys
            storage: {
                theme: 'pdfmaker_theme',
                stats: 'pdfmaker_stats',
                settings: 'pdfmaker_settings',
                history: 'pdfmaker_history'
            },
            
            // Processing Tips
            tips: [
                'ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡',
                'Ø§Ø¶ØºØ· Ù…Ø·ÙˆÙ„Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù…Ø¹Ø§ÙŠÙ†ØªÙ‡Ø§',
                'ÙŠØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹',
                'ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„',
                'Ø§Ø³Ø­Ø¨ Ù„Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙˆØ± ÙÙŠ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©',
                'Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ÙƒØ±Ø±Ø© ØªÙØ­Ø°Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹'
            ]
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ—ƒï¸ APPLICATION STATE - Reactive State Management
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const State = {
            // Navigation
            currentPage: 'welcome',
            previousPage: null,
            navigationHistory: [],
            isNavigating: false,
            
            // Processing State
            isProcessing: false,
            isSplashVisible: true,
            
            // Mode
            mode: 'pdf',  // 'pdf' or 'images'
            
            // File Info
            file: {
                name: '',
                size: 0,
                type: ''
            },
            
            // Images Collection
            images: [],
            selectedIds: new Set(),
            categories: {
                valid: [],
                duplicate: [],
                logo: []
            },
            
            // Viewer State
            viewer: {
                isOpen: false,
                currentIndex: 0,
                images: [],
                touchStartX: 0,
                touchStartY: 0
            },
            
            // Gallery Filter
            currentFilter: 'all',
            
            // PDF Settings
            settings: {
                layout: 6,
                filename: 'document',
                autoDownload: true,
                addBorder: true,
                highQuality: false
            },
            
            // Result
            result: {
                blob: null,
                stats: {
                    images: 0,
                    pages: 0,
                    size: 0
                }
            },
            
            // Theme
            theme: 'dark',
            
            // Statistics
            stats: {
                totalConverted: 0,
                totalImages: 0,
                lastUsed: null
            },
            
            // Performance
            processingStartTime: 0
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ“¦ DOM CACHE - Element References
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const DOM = {};

        /**
         * Cache all DOM elements for performance
         */
        function initDOMCache() {
            // Splash Screen
            DOM.splashScreen = document.getElementById('splash-screen');
            DOM.splashProgressBar = document.getElementById('splash-progress-bar');
            DOM.splashStatusText = document.getElementById('splash-status-text');
            
            // Loading Overlay
            DOM.loadingOverlay = document.getElementById('loading-overlay');
            DOM.loadingText = document.getElementById('loading-text');
            DOM.loadingProgressContainer = document.getElementById('loading-progress-container');
            DOM.loadingProgressBar = document.getElementById('loading-progress-bar');
            
            // Toast Container
            DOM.toastContainer = document.getElementById('toast-container');
            
            // Pages
            DOM.pages = {
                welcome: document.getElementById('page-welcome'),
                file: document.getElementById('page-file'),
                gallery: document.getElementById('page-gallery'),
                settings: document.getElementById('page-settings'),
                processing: document.getElementById('page-processing'),
                result: document.getElementById('page-result')
            };
            
            // Welcome Page
            DOM.btnStartPdf = document.getElementById('btn-start-pdf');
            DOM.btnStartImages = document.getElementById('btn-start-images');
            DOM.btnOpenSettings = document.getElementById('btn-open-settings');
            DOM.statTotalConverted = document.getElementById('stat-total-converted');
            DOM.statTotalImages = document.getElementById('stat-total-images');
            
            // File Page
            DOM.btnBackToWelcome = document.getElementById('btn-back-to-welcome');
            DOM.filePageTitle = document.getElementById('file-page-title');
            DOM.filePageSubtitle = document.getElementById('file-page-subtitle');
            DOM.dropZone = document.getElementById('drop-zone');
            DOM.dropZoneIcon = document.getElementById('drop-zone-icon');
            DOM.dropZoneIconCircle = document.getElementById('drop-zone-icon-circle');
            DOM.dropZoneTitle = document.getElementById('drop-zone-title');
            DOM.dropZoneSubtitle = document.getElementById('drop-zone-subtitle');
            DOM.fileSelectedInfo = document.getElementById('file-selected-info');
            DOM.selectedFileName = document.getElementById('selected-file-name');
            DOM.selectedFileSize = document.getElementById('selected-file-size');
            DOM.inputPdf = document.getElementById('input-pdf');
            DOM.inputImages = document.getElementById('input-images');
            DOM.processingStatus = document.getElementById('processing-status');
            DOM.processingTitle = document.getElementById('processing-title');
            DOM.processingDetail = document.getElementById('processing-detail');
            DOM.processingBar = document.getElementById('processing-bar');
            DOM.extractionResults = document.getElementById('extraction-results');
            DOM.resultTotalImages = document.getElementById('result-total-images');
            DOM.resultValidImages = document.getElementById('result-valid-images');
            DOM.resultDuplicates = document.getElementById('result-duplicates');
            DOM.resultLogos = document.getElementById('result-logos');
            DOM.resultTime = document.getElementById('result-time');
            DOM.btnToGallery = document.getElementById('btn-to-gallery');
            DOM.tipsSection = document.getElementById('tips-section');
            
            // Gallery Page
            DOM.btnBackToFile = document.getElementById('btn-back-to-file');
            DOM.selectionCountText = document.getElementById('selection-count-text');
            DOM.galleryTabs = document.getElementById('gallery-tabs');
            DOM.tabCountAll = document.getElementById('tab-count-all');
            DOM.tabCountValid = document.getElementById('tab-count-valid');
            DOM.tabCountDuplicate = document.getElementById('tab-count-duplicate');
            DOM.tabCountLogo = document.getElementById('tab-count-logo');
            DOM.galleryGrid = document.getElementById('gallery-grid');
            DOM.galleryEmpty = document.getElementById('gallery-empty');
            DOM.btnSelectAll = document.getElementById('btn-select-all');
            DOM.btnToSettings = document.getElementById('btn-to-settings');
            
            // Settings Page
            DOM.btnBackToGallery = document.getElementById('btn-back-to-gallery');
            DOM.layoutGrid = document.getElementById('layout-grid');
            DOM.expectedPagesCount = document.getElementById('expected-pages-count');
            DOM.pdfFilenameInput = document.getElementById('pdf-filename-input');
            DOM.toggleAutoDownload = document.getElementById('toggle-auto-download');
            DOM.switchAutoDownload = document.getElementById('switch-auto-download');
            DOM.toggleAddBorder = document.getElementById('toggle-add-border');
            DOM.switchAddBorder = document.getElementById('switch-add-border');
            DOM.toggleHighQuality = document.getElementById('toggle-high-quality');
            DOM.switchHighQuality = document.getElementById('switch-high-quality');
            DOM.summarySelected = document.getElementById('summary-selected');
            DOM.summaryExcluded = document.getElementById('summary-excluded');
            DOM.summaryLayout = document.getElementById('summary-layout');
            DOM.summarySize = document.getElementById('summary-size');
            DOM.btnCreatePdf = document.getElementById('btn-create-pdf');
            
            // Processing Page
            DOM.progressCircleBar = document.getElementById('progress-circle-bar');
            DOM.progressPercentage = document.getElementById('progress-percentage');
            DOM.progressStatusText = document.getElementById('progress-status-text');
            DOM.liveImagesCount = document.getElementById('live-images-count');
            DOM.livePagesCount = document.getElementById('live-pages-count');
            DOM.currentActionText = document.getElementById('current-action-text');
            DOM.processingTip = document.getElementById('processing-tip');
            
            // Result Page
            DOM.confettiContainer = document.getElementById('confetti-container');
            DOM.finalImagesCount = document.getElementById('final-images-count');
            DOM.finalPagesCount = document.getElementById('final-pages-count');
            DOM.finalFilename = document.getElementById('final-filename');
            DOM.finalFilesize = document.getElementById('final-filesize');
            DOM.btnDownloadPdf = document.getElementById('btn-download-pdf');
            DOM.btnSharePdf = document.getElementById('btn-share-pdf');
            DOM.btnPreviewPdf = document.getElementById('btn-preview-pdf');
            DOM.btnNewConversion = document.getElementById('btn-new-conversion');
            DOM.rateStars = document.getElementById('rate-stars');
            
            // Image Viewer
            DOM.imageViewer = document.getElementById('image-viewer');
            DOM.viewerCloseBtn = document.getElementById('viewer-close-btn');
            DOM.viewerCounter = document.getElementById('viewer-counter');
            DOM.viewerToggleBtn = document.getElementById('viewer-toggle-btn');
            DOM.viewerToggleIcon = document.getElementById('viewer-toggle-icon');
            DOM.viewerImage = document.getElementById('viewer-image');
            DOM.viewerPrevBtn = document.getElementById('viewer-prev-btn');
            DOM.viewerNextBtn = document.getElementById('viewer-next-btn');
            
            // Settings Bottom Sheet
            DOM.settingsBackdrop = document.getElementById('settings-backdrop');
            DOM.settingsSheet = document.getElementById('settings-sheet');
            DOM.toggleTheme = document.getElementById('toggle-theme');
            DOM.switchTheme = document.getElementById('switch-theme');
            DOM.themeIcon = document.getElementById('theme-icon');
            DOM.btnCloseSettings = document.getElementById('btn-close-settings');
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ› ï¸ UTILITIES - Helper Functions
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Utils = {
            /**
             * Format file size to human readable string
             */
            formatSize(bytes) {
                if (bytes === 0) return '0 B';
                const k = 1024;
                const sizes = ['B', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
            },
            
            /**
             * Format time duration
             */
            formatDuration(seconds) {
                if (seconds < 1) return 'Ø£Ù‚Ù„ Ù…Ù† Ø«Ø§Ù†ÙŠØ©';
                if (seconds < 60) return Math.round(seconds) + ' Ø«';
                const mins = Math.floor(seconds / 60);
                const secs = Math.round(seconds % 60);
                return `${mins} Ø¯ ${secs} Ø«`;
            },
            
            /**
             * Delay execution
             */
            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            },
            
            /**
             * Read file as Data URL
             */
            readAsDataURL(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => resolve(reader.result);
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            },
            
            /**
             * Read file as ArrayBuffer
             */
            readAsArrayBuffer(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => resolve(reader.result);
                    reader.onerror = reject;
                    reader.readAsArrayBuffer(file);
                });
            },
            
            /**
             * Generate unique ID
             */
            generateId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2, 9);
            },
            
            /**
             * Debounce function
             */
            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            },
            
            /**
             * Throttle function
             */
            throttle(func, limit) {
                let inThrottle;
                return function(...args) {
                    if (!inThrottle) {
                        func.apply(this, args);
                        inThrottle = true;
                        setTimeout(() => inThrottle = false, limit);
                    }
                };
            },
            
            /**
             * Check if device is mobile
             */
            isMobile() {
                return /Android|iPhone|iPad|iPod|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) 
                    || window.innerWidth < 768;
            },
            
            /**
             * Check if iOS device
             */
            isIOS() {
                return /iPad|iPhone|iPod/.test(navigator.userAgent);
            },
            
            /**
             * Check if PWA standalone mode
             */
            isStandalone() {
                return window.matchMedia('(display-mode: standalone)').matches 
                    || window.navigator.standalone === true;
            },
            
            /**
             * Vibrate device (haptic feedback)
             */
            vibrate(pattern = 10) {
                if ('vibrate' in navigator) {
                    navigator.vibrate(pattern);
                }
            },
            
            /**
             * Save to localStorage
             */
            saveToStorage(key, value) {
                try {
                    localStorage.setItem(key, JSON.stringify(value));
                    return true;
                } catch (e) {
                    console.warn('Storage save failed:', e);
                    return false;
                }
            },
            
            /**
             * Load from localStorage
             */
            loadFromStorage(key, defaultValue = null) {
                try {
                    const value = localStorage.getItem(key);
                    return value ? JSON.parse(value) : defaultValue;
                } catch (e) {
                    console.warn('Storage load failed:', e);
                    return defaultValue;
                }
            },
            
            /**
             * Remove from localStorage
             */
            removeFromStorage(key) {
                try {
                    localStorage.removeItem(key);
                    return true;
                } catch (e) {
                    return false;
                }
            },
            
            /**
             * Get random item from array
             */
            randomFrom(array) {
                return array[Math.floor(Math.random() * array.length)];
            },
            
            /**
             * Clamp number between min and max
             */
            clamp(num, min, max) {
                return Math.min(Math.max(num, min), max);
            },
            
            /**
             * Escape HTML to prevent XSS
             */
            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            },
            
            /**
             * Create element with attributes
             */
            createElement(tag, attrs = {}, children = []) {
                const el = document.createElement(tag);
                Object.entries(attrs).forEach(([key, value]) => {
                    if (key === 'className') {
                        el.className = value;
                    } else if (key === 'style' && typeof value === 'object') {
                        Object.assign(el.style, value);
                    } else if (key.startsWith('on')) {
                        el.addEventListener(key.slice(2).toLowerCase(), value);
                    } else if (key === 'dataset') {
                        Object.entries(value).forEach(([k, v]) => el.dataset[k] = v);
                    } else {
                        el.setAttribute(key, value);
                    }
                });
                children.forEach(child => {
                    if (typeof child === 'string') {
                        el.appendChild(document.createTextNode(child));
                    } else if (child instanceof Node) {
                        el.appendChild(child);
                    }
                });
                return el;
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ TOAST NOTIFICATION SYSTEM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Toast = {
            queue: [],
            maxVisible: 3,
            
            /**
             * Show toast notification
             */
            show(message, type = 'info', duration = CONFIG.ui.toastDuration) {
                const id = Utils.generateId();
                
                const icons = {
                    info: 'info',
                    success: 'check_circle',
                    warning: 'warning',
                    error: 'error'
                };
                
                const toast = Utils.createElement('div', {
                    className: 'toast',
                    dataset: { id }
                }, [
                    Utils.createElement('div', { className: `toast-icon ${type}` }, [
                        Utils.createElement('span', { className: 'material-icons-round' }, [icons[type]])
                    ]),
                    Utils.createElement('div', { className: 'toast-content' }, [
                        Utils.createElement('p', { className: 'toast-message' }, [message])
                    ]),
                    Utils.createElement('button', { 
                        className: 'toast-close',
                        onClick: () => this.dismiss(id)
                    }, [
                        Utils.createElement('span', { className: 'material-icons-round' }, ['close'])
                    ]),
                    Utils.createElement('div', { className: 'toast-progress' }, [
                        Utils.createElement('div', { 
                            className: 'toast-progress-bar',
                            style: { animationDuration: duration + 'ms' }
                        })
                    ])
                ]);
                
                DOM.toastContainer.appendChild(toast);
                
                // Trigger animation
                requestAnimationFrame(() => {
                    toast.classList.add('show');
                });
                
                // Haptic feedback
                if (type === 'success') Utils.vibrate(10);
                if (type === 'error') Utils.vibrate([20, 50, 20]);
                
                // Auto dismiss
                const timeout = setTimeout(() => this.dismiss(id), duration);
                
                this.queue.push({ id, toast, timeout });
                
                // Limit visible toasts
                if (this.queue.length > this.maxVisible) {
                    const oldest = this.queue.shift();
                    clearTimeout(oldest.timeout);
                    this.dismiss(oldest.id);
                }
                
                return id;
            },
            
            /**
             * Dismiss toast by ID
             */
            dismiss(id) {
                const index = this.queue.findIndex(t => t.id === id);
                if (index === -1) return;
                
                const { toast, timeout } = this.queue[index];
                clearTimeout(timeout);
                
                toast.classList.remove('show');
                toast.classList.add('hiding');
                
                setTimeout(() => {
                    toast.remove();
                    this.queue.splice(index, 1);
                }, 300);
            },
            
            /**
             * Convenience methods
             */
            success(message) { return this.show(message, 'success'); },
            error(message) { return this.show(message, 'error'); },
            warning(message) { return this.show(message, 'warning'); },
            info(message) { return this.show(message, 'info'); }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // â³ LOADING OVERLAY
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Loading = {
            /**
             * Show loading overlay
             */
            show(text = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...', showProgress = false) {
                DOM.loadingText.textContent = text;
                DOM.loadingProgressContainer.style.display = showProgress ? 'block' : 'none';
                DOM.loadingProgressBar.style.width = '0%';
                DOM.loadingOverlay.classList.add('show');
            },
            
            /**
             * Update loading text
             */
            setText(text) {
                DOM.loadingText.textContent = text;
            },
            
            /**
             * Update progress bar
             */
            setProgress(percent) {
                DOM.loadingProgressBar.style.width = Math.min(100, Math.max(0, percent)) + '%';
            },
            
            /**
             * Hide loading overlay
             */
            hide() {
                DOM.loadingOverlay.classList.remove('show');
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ§­ NAVIGATION SYSTEM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Navigation = {
            /**
             * Navigate to a page
             */
            goTo(pageName, direction = 'forward') {
                if (State.isNavigating || State.currentPage === pageName) return;
                if (State.isProcessing && pageName !== 'processing') return;
                
                const currentPage = DOM.pages[State.currentPage];
                const nextPage = DOM.pages[pageName];
                
                if (!currentPage || !nextPage) {
                    console.warn('Page not found:', pageName);
                    return;
                }
                
                State.isNavigating = true;
                
                // Save to history
                if (direction === 'forward') {
                    State.navigationHistory.push(State.currentPage);
                }
                
                // Determine animation classes
                const exitClass = direction === 'forward' ? 'leaving-left' : 'leaving-right';
                const enterClass = direction === 'forward' ? 'entering-right' : 'entering-left';
                
                // Animate out current page
                currentPage.classList.add(exitClass);
                
                // Show and animate in next page
                nextPage.classList.add('active', enterClass);
                
                // Cleanup after animation
                setTimeout(() => {
                    currentPage.classList.remove('active', exitClass);
                    nextPage.classList.remove(enterClass);
                    
                    State.previousPage = State.currentPage;
                    State.currentPage = pageName;
                    State.isNavigating = false;
                    
                    // Page enter callbacks
                    this.onPageEnter(pageName);
                }, CONFIG.ui.pageTransition);
                
                // Update browser history
                history.pushState({ page: pageName }, '', '');
            },
            
            /**
             * Go back to previous page
             */
            goBack() {
                if (State.navigationHistory.length > 0) {
                    const previousPage = State.navigationHistory.pop();
                    this.goTo(previousPage, 'back');
                }
            },
            
            /**
             * Called when entering a page
             */
            onPageEnter(pageName) {
                switch (pageName) {
                    case 'welcome':
                        this.updateWelcomeStats();
                        break;
                    case 'gallery':
                        Gallery.render();
                        Gallery.updateSelectionCount();
                        break;
                    case 'settings':
                        Settings.init();
                        Settings.updateSummary();
                        break;
                    case 'result':
                        Effects.showConfetti();
                        break;
                }
            },
            
            /**
             * Update welcome page stats
             */
            updateWelcomeStats() {
                DOM.statTotalConverted.textContent = State.stats.totalConverted;
                DOM.statTotalImages.textContent = State.stats.totalImages;
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ¨ THEME MANAGER
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Theme = {
            /**
             * Initialize theme
             */
            init() {
                const savedTheme = Utils.loadFromStorage(CONFIG.storage.theme, 'dark');
                this.set(savedTheme, false);
            },
            
            /**
             * Set theme
             */
            set(theme, save = true) {
                State.theme = theme;
                document.documentElement.setAttribute('data-theme', theme);
                
                // Update UI
                const isDark = theme === 'dark';
                DOM.switchTheme?.classList.toggle('active', isDark);
                if (DOM.themeIcon) {
                    DOM.themeIcon.textContent = isDark ? 'dark_mode' : 'light_mode';
                }
                
                // Update meta theme color
                const metaTheme = document.querySelector('meta[name="theme-color"]');
                if (metaTheme) {
                    metaTheme.content = isDark ? '#0a0a1a' : '#f8fafc';
                }
                
                if (save) {
                    Utils.saveToStorage(CONFIG.storage.theme, theme);
                }
            },
            
            /**
             * Toggle theme
             */
            toggle() {
                const newTheme = State.theme === 'dark' ? 'light' : 'dark';
                this.set(newTheme);
                Utils.vibrate(10);
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // âœ¨ VISUAL EFFECTS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Effects = {
            /**
             * Create button ripple effect
             */
            createRipple(event, button) {
                const ripple = document.createElement('span');
                ripple.className = 'btn-ripple';
                
                const rect = button.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = event.clientX - rect.left - size / 2;
                const y = event.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                
                button.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), CONFIG.ui.rippleDuration);
            },
            
            /**
             * Show confetti celebration
             */
            showConfetti() {
                const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#10b981', '#f59e0b'];
                const container = DOM.confettiContainer;
                
                container.innerHTML = '';
                
                for (let i = 0; i < CONFIG.ui.confettiCount; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = Utils.randomFrom(colors);
                    confetti.style.animationDelay = Math.random() * 2 + 's';
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    
                    // Random shapes
                    const shapes = ['50%', '0%', '30%'];
                    confetti.style.borderRadius = Utils.randomFrom(shapes);
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    
                    container.appendChild(confetti);
                }
                
                // Cleanup after animation
                setTimeout(() => {
                    container.innerHTML = '';
                }, 5000);
            },
            
            /**
             * Animate counter
             */
            animateCounter(element, endValue, duration = 1000) {
                const startValue = parseInt(element.textContent) || 0;
                const startTime = performance.now();
                
                const animate = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // Easing function
                    const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                    const currentValue = Math.round(startValue + (endValue - startValue) * easeOutQuart);
                    
                    element.textContent = currentValue;
                    
                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    } else {
                        element.classList.remove('counting');
                    }
                };
                
                element.classList.add('counting');
                requestAnimationFrame(animate);
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ¬ SPLASH SCREEN
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Splash = {
            /**
             * Initialize and show splash screen
             */
            async show() {
                const startTime = Date.now();
                let progress = 0;
                
                const updateProgress = async (value, text) => {
                    progress = value;
                    DOM.splashProgressBar.style.width = value + '%';
                    DOM.splashStatusText.textContent = text;
                    await Utils.delay(80);
                };
                
                try {
                    // Step 1: Initialize
                    await updateProgress(15, 'ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...');
                    
                    // Step 2: Load libraries
                    await updateProgress(30, 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª...');
                    await this.waitForLibraries();
                    
                    // Step 3: Cache DOM
                    await updateProgress(50, 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©...');
                    initDOMCache();
                    
                    // Step 4: Load settings
                    await updateProgress(70, 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª...');
                    this.loadSavedData();
                    
                    // Step 5: Setup events
                    await updateProgress(85, 'ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø£Ø­Ø¯Ø§Ø«...');
                    EventHandlers.init();
                    
                    // Step 6: Complete
                    await updateProgress(100, 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…!');
                    
                } catch (error) {
                    console.error('Splash error:', error);
                    DOM.splashStatusText.textContent = 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„';
                }
                
                // Ensure minimum duration
                const elapsed = Date.now() - startTime;
                if (elapsed < CONFIG.ui.splashDuration) {
                    await Utils.delay(CONFIG.ui.splashDuration - elapsed);
                }
                
                // Hide splash
                this.hide();
            },
            
            /**
             * Wait for external libraries to load
             */
            waitForLibraries() {
                return new Promise((resolve) => {
                    const check = () => {
                        if (window.pdfjsLib && window.jspdf) {
                            // Configure PDF.js
                            pdfjsLib.GlobalWorkerOptions.workerSrc = 
                                'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
                            resolve();
                        } else {
                            setTimeout(check, 50);
                        }
                    };
                    check();
                });
            },
            
            /**
             * Load saved data from storage
             */
            loadSavedData() {
                // Load theme
                Theme.init();
                
                // Load stats
                const savedStats = Utils.loadFromStorage(CONFIG.storage.stats, {
                    totalConverted: 0,
                    totalImages: 0
                });
                State.stats = { ...State.stats, ...savedStats };
                
                // Load settings
                const savedSettings = Utils.loadFromStorage(CONFIG.storage.settings, {});
                State.settings = { ...State.settings, ...savedSettings };
            },
            
            /**
             * Hide splash screen
             */
            hide() {
                DOM.splashScreen.classList.add('hidden');
                State.isSplashVisible = false;
                
                // Update welcome stats
                Navigation.updateWelcomeStats();
            }
        };
                // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ–¼ï¸ IMAGE PROCESSOR - Advanced Image Handling
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const ImageProcessor = {
            /**
             * Compress and resize image
             */
            async compress(dataUrl, maxDimension = CONFIG.image.maxDimension) {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.onload = () => {
                        let width = img.width;
                        let height = img.height;
                        
                        // Calculate new dimensions
                        if (width > maxDimension || height > maxDimension) {
                            const ratio = Math.min(maxDimension / width, maxDimension / height);
                            width = Math.round(width * ratio);
                            height = Math.round(height * ratio);
                        }
                        
                        // Create canvas
                        const canvas = document.createElement('canvas');
                        canvas.width = width;
                        canvas.height = height;
                        const ctx = canvas.getContext('2d');
                        
                        // White background
                        ctx.fillStyle = '#FFFFFF';
                        ctx.fillRect(0, 0, width, height);
                        
                        // Draw image
                        ctx.drawImage(img, 0, 0, width, height);
                        
                        // Get quality setting
                        const quality = CONFIG.image.quality[CONFIG.image.currentQuality];
                        
                        // Convert to JPEG
                        const compressed = canvas.toDataURL('image/jpeg', quality);
                        
                        // Cleanup
                        canvas.width = canvas.height = 0;
                        
                        resolve({
                            data: compressed,
                            width,
                            height,
                            size: compressed.length
                        });
                    };
                    
                    img.onerror = () => {
                        resolve({
                            data: dataUrl,
                            width: 100,
                            height: 100,
                            size: dataUrl.length
                        });
                    };
                    
                    img.src = dataUrl;
                });
            },
            
            /**
             * Calculate perceptual hash for duplicate detection
             */
            async getHash(dataUrl) {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.onload = () => {
                        const size = CONFIG.image.hashSize;
                        const canvas = document.createElement('canvas');
                        canvas.width = canvas.height = size;
                        const ctx = canvas.getContext('2d');
                        
                        // Draw scaled down image
                        ctx.drawImage(img, 0, 0, size, size);
                        
                        // Get pixel data
                        const imageData = ctx.getImageData(0, 0, size, size).data;
                        
                        // Calculate grayscale values
                        const grays = [];
                        let sum = 0;
                        
                        for (let i = 0; i < imageData.length; i += 4) {
                            const gray = (imageData[i] + imageData[i + 1] + imageData[i + 2]) / 3;
                            grays.push(gray);
                            sum += gray;
                        }
                        
                        // Calculate average
                        const avg = sum / grays.length;
                        
                        // Generate binary hash
                        let hash = '';
                        grays.forEach(gray => {
                            hash += gray > avg ? '1' : '0';
                        });
                        
                        // Cleanup
                        canvas.width = canvas.height = 0;
                        
                        resolve(hash);
                    };
                    
                    img.onerror = () => {
                        // Return random hash on error
                        resolve(Math.random().toString(36).substr(2, 16));
                    };
                    
                    img.src = dataUrl;
                });
            },
            
            /**
             * Calculate similarity between two hashes
             */
            calculateSimilarity(hash1, hash2) {
                if (hash1.length !== hash2.length) return 0;
                
                let matches = 0;
                for (let i = 0; i < hash1.length; i++) {
                    if (hash1[i] === hash2[i]) matches++;
                }
                
                return matches / hash1.length;
            },
            
            /**
             * Check if image is likely a logo
             */
            isLogo(image) {
                const { width, height, size } = image;
                const minSize = CONFIG.image.minSize;
                const maxLogoSize = CONFIG.image.maxLogoSize;
                const maxLogoDim = CONFIG.image.maxLogoDimension;
                
                // Too small
                if (width < minSize || height < minSize) return true;
                
                // Small size and dimensions (likely logo)
                if (size < maxLogoSize && width < maxLogoDim && height < maxLogoDim) return true;
                
                // Extreme aspect ratio (likely banner/logo)
                const aspectRatio = width / height;
                if (aspectRatio > 5 || aspectRatio < 0.2) return true;
                
                return false;
            },
            
            /**
             * Analyze images for duplicates and logos
             */
            async analyze(images, onProgress = null) {
                const categories = {
                    valid: [],
                    duplicate: [],
                    logo: []
                };
                
                const selectedIds = new Set();
                const hashMap = new Map();
                
                for (let i = 0; i < images.length; i++) {
                    const img = images[i];
                    
                    if (onProgress) {
                        onProgress({
                            current: i + 1,
                            total: images.length,
                            percent: ((i + 1) / images.length) * 100
                        });
                    }
                    
                    // Check for logo
                    if (this.isLogo(img)) {
                        img.category = 'logo';
                        categories.logo.push(img.id);
                        continue;
                    }
                    
                    // Calculate hash
                    const hash = await this.getHash(img.data);
                    img.hash = hash;
                    
                    // Check for duplicates
                    let isDuplicate = false;
                    for (const [existingHash, existingId] of hashMap) {
                        const similarity = this.calculateSimilarity(hash, existingHash);
                        if (similarity > CONFIG.image.similarityThreshold) {
                            isDuplicate = true;
                            img.duplicateOf = existingId;
                            break;
                        }
                    }
                    
                    if (isDuplicate) {
                        img.category = 'duplicate';
                        categories.duplicate.push(img.id);
                    } else {
                        hashMap.set(hash, img.id);
                        img.category = 'valid';
                        categories.valid.push(img.id);
                        selectedIds.add(img.id);
                    }
                    
                    // Yield to prevent UI freeze
                    if (i % 5 === 0) {
                        await Utils.delay(1);
                    }
                }
                
                return { categories, selectedIds };
            },
            
            /**
             * Render PDF image object to data URL
             */
            async renderPdfImage(imageObj) {
                try {
                    const maxDim = CONFIG.image.maxDimension;
                    let width = Math.min(imageObj.width, maxDim);
                    let height = Math.min(imageObj.height, maxDim);
                    
                    // Calculate scaled dimensions
                    if (imageObj.width > maxDim || imageObj.height > maxDim) {
                        const ratio = Math.min(maxDim / imageObj.width, maxDim / imageObj.height);
                        width = Math.round(imageObj.width * ratio);
                        height = Math.round(imageObj.height * ratio);
                    }
                    
                    // Create canvas
                    const canvas = document.createElement('canvas');
                    canvas.width = width;
                    canvas.height = height;
                    const ctx = canvas.getContext('2d');
                    
                    // White background
                    ctx.fillStyle = '#FFFFFF';
                    ctx.fillRect(0, 0, width, height);
                    
                    // Handle different image formats
                    if (imageObj.bitmap) {
                        // ImageBitmap
                        ctx.drawImage(imageObj.bitmap, 0, 0, width, height);
                    } else if (imageObj.data) {
                        // Raw pixel data
                        const tempCanvas = document.createElement('canvas');
                        tempCanvas.width = imageObj.width;
                        tempCanvas.height = imageObj.height;
                        const tempCtx = tempCanvas.getContext('2d');
                        const imgData = tempCtx.createImageData(imageObj.width, imageObj.height);
                        
                        const srcData = imageObj.data;
                        const dstData = imgData.data;
                        const pixelCount = imageObj.width * imageObj.height;
                        
                        if (srcData.length === pixelCount * 4) {
                            // RGBA format
                            dstData.set(srcData);
                        } else if (srcData.length === pixelCount * 3) {
                            // RGB format
                            for (let i = 0; i < pixelCount; i++) {
                                dstData[i * 4] = srcData[i * 3];
                                dstData[i * 4 + 1] = srcData[i * 3 + 1];
                                dstData[i * 4 + 2] = srcData[i * 3 + 2];
                                dstData[i * 4 + 3] = 255;
                            }
                        } else if (srcData.length === pixelCount) {
                            // Grayscale format
                            for (let i = 0; i < pixelCount; i++) {
                                dstData[i * 4] = srcData[i];
                                dstData[i * 4 + 1] = srcData[i];
                                dstData[i * 4 + 2] = srcData[i];
                                dstData[i * 4 + 3] = 255;
                            }
                        } else {
                            // Unknown format
                            tempCanvas.width = tempCanvas.height = 0;
                            canvas.width = canvas.height = 0;
                            return null;
                        }
                        
                        tempCtx.putImageData(imgData, 0, 0);
                        ctx.drawImage(tempCanvas, 0, 0, width, height);
                        tempCanvas.width = tempCanvas.height = 0;
                    } else {
                        canvas.width = canvas.height = 0;
                        return null;
                    }
                    
                    // Convert to data URL
                    const quality = CONFIG.image.quality[CONFIG.image.currentQuality];
                    const result = canvas.toDataURL('image/jpeg', quality);
                    
                    // Cleanup
                    canvas.width = canvas.height = 0;
                    
                    return result;
                } catch (error) {
                    console.warn('Render PDF image error:', error);
                    return null;
                }
            },
            
            /**
             * Convert any image format to JPEG
             */
            async toJPEG(dataUrl, quality = 0.75) {
                return new Promise((resolve, reject) => {
                    const img = new Image();
                    img.onload = () => {
                        try {
                            const canvas = document.createElement('canvas');
                            canvas.width = img.width;
                            canvas.height = img.height;
                            const ctx = canvas.getContext('2d');
                            
                            ctx.fillStyle = '#FFFFFF';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.drawImage(img, 0, 0);
                            
                            const result = canvas.toDataURL('image/jpeg', quality);
                            canvas.width = canvas.height = 0;
                            
                            resolve(result);
                        } catch (e) {
                            reject(e);
                        }
                    };
                    img.onerror = reject;
                    img.src = dataUrl;
                });
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ“„ PDF EXTRACTOR - Extract Images from PDF
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const PDFExtractor = {
            /**
             * Extract embedded images from PDF
             */
            async extractImages(file, onProgress = null) {
                const arrayBuffer = await Utils.readAsArrayBuffer(file);
                const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                const images = [];
                let imageId = 0;
                
                for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                    if (onProgress) {
                        onProgress({
                            phase: 'extracting',
                            current: pageNum,
                            total: pdf.numPages,
                            percent: (pageNum / pdf.numPages) * 100,
                            message: `Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙØ­Ø© ${pageNum} Ù…Ù† ${pdf.numPages}`
                        });
                    }
                    
                    try {
                        const page = await pdf.getPage(pageNum);
                        const operatorList = await page.getOperatorList();
                        
                        // Find image operations
                        const imageNames = new Set();
                        for (let i = 0; i < operatorList.fnArray.length; i++) {
                            // OPS: paintImageXObject = 85, paintJpegXObject = 82, paintImageMaskXObject = 83
                            if ([82, 83, 85].includes(operatorList.fnArray[i])) {
                                const name = operatorList.argsArray[i][0];
                                if (name) imageNames.add(name);
                            }
                        }
                        
                        // Extract each image
                        for (const imageName of imageNames) {
                            try {
                                // Get image object with timeout
                                const imageObj = await Promise.race([
                                    new Promise((resolve, reject) => {
                                        page.objs.get(imageName, (obj) => {
                                            if (obj) resolve(obj);
                                            else reject(new Error('Image not found'));
                                        });
                                    }),
                                    new Promise((_, reject) => 
                                        setTimeout(() => reject(new Error('Timeout')), 3000)
                                    )
                                ]);
                                
                                // Filter out small images
                                if (imageObj && imageObj.width > 30 && imageObj.height > 30) {
                                    const dataUrl = await ImageProcessor.renderPdfImage(imageObj);
                                    
                                    if (dataUrl) {
                                        const compressed = await ImageProcessor.compress(dataUrl);
                                        
                                        images.push({
                                            id: 'img_' + (imageId++),
                                            data: compressed.data,
                                            width: compressed.width,
                                            height: compressed.height,
                                            size: compressed.size,
                                            page: pageNum,
                                            name: `page${pageNum}_img${images.length + 1}.jpg`,
                                            category: 'valid'
                                        });
                                    }
                                }
                            } catch (e) {
                                // Skip failed image
                                console.warn('Image extraction failed:', e.message);
                            }
                        }
                        
                        // Cleanup page
                        page.cleanup();
                        
                        // Yield to UI
                        await Utils.delay(5);
                        
                    } catch (error) {
                        console.warn('Page processing error:', pageNum, error);
                    }
                }
                
                return images;
            },
            
            /**
             * Render PDF pages as images (fallback method)
             */
            async renderPages(file, onProgress = null) {
                const arrayBuffer = await Utils.readAsArrayBuffer(file);
                const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                const images = [];
                
                // Determine scale based on device
                const scale = Utils.isMobile() ? 1.2 : 1.5;
                const maxDimension = Utils.isMobile() ? 800 : 1200;
                
                for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                    if (onProgress) {
                        onProgress({
                            phase: 'rendering',
                            current: pageNum,
                            total: pdf.numPages,
                            percent: (pageNum / pdf.numPages) * 100,
                            message: `ØªØ­ÙˆÙŠÙ„ ØµÙØ­Ø© ${pageNum} Ù…Ù† ${pdf.numPages}`
                        });
                    }
                    
                    try {
                        const page = await pdf.getPage(pageNum);
                        let viewport = page.getViewport({ scale });
                        
                        // Limit viewport size
                        if (viewport.width > maxDimension || viewport.height > maxDimension) {
                            const ratio = Math.min(maxDimension / viewport.width, maxDimension / viewport.height);
                            viewport = page.getViewport({ scale: scale * ratio });
                        }
                        
                        // Create canvas
                        const canvas = document.createElement('canvas');
                        canvas.width = viewport.width;
                        canvas.height = viewport.height;
                        const ctx = canvas.getContext('2d');
                        
                        // White background
                        ctx.fillStyle = '#FFFFFF';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                        
                        // Render page
                        await page.render({
                            canvasContext: ctx,
                            viewport: viewport
                        }).promise;
                        
                        // Convert to data URL
                        const quality = CONFIG.image.quality[CONFIG.image.currentQuality];
                        const dataUrl = canvas.toDataURL('image/jpeg', quality);
                        
                        images.push({
                            id: 'page_' + pageNum,
                            data: dataUrl,
                            width: canvas.width,
                            height: canvas.height,
                            size: dataUrl.length,
                            page: pageNum,
                            name: `page_${pageNum}.jpg`,
                            category: 'valid'
                        });
                        
                        // Cleanup
                        page.cleanup();
                        canvas.width = canvas.height = 0;
                        
                        // Yield to UI
                        await Utils.delay(20);
                        
                    } catch (error) {
                        console.warn('Page render error:', pageNum, error);
                    }
                }
                
                return images;
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ“ FILE HANDLER - Process Files
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const FileHandler = {
            /**
             * Handle PDF file
             */
            async handlePDF(file) {
                State.processingStartTime = performance.now();
                
                // Update state
                State.file = {
                    name: file.name,
                    size: file.size,
                    type: file.type
                };
                State.settings.filename = file.name.replace('.pdf', '');
                
                // Update UI
                this.showFileInfo(file.name, file.size);
                this.showProcessingStatus();
                
                try {
                    // Phase 1: Extract images
                    let images = await PDFExtractor.extractImages(file, (progress) => {
                        this.updateProgress(progress);
                    });
                    
                    // Phase 2: If no images found, render pages
                    if (images.length === 0) {
                        this.updateProgress({
                            phase: 'rendering',
                            current: 0,
                            total: 1,
                            percent: 0,
                            message: 'Ø¬Ø§Ø±ÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª ÙƒØµÙˆØ±...'
                        });
                        
                        images = await PDFExtractor.renderPages(file, (progress) => {
                            this.updateProgress(progress);
                        });
                    }
                    
                    // Check if any images were extracted
                    if (images.length === 0) {
                        throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØµÙˆØ± ÙÙŠ Ø§Ù„Ù…Ù„Ù');
                    }
                    
                    // Phase 3: Analyze images
                    this.updateProgress({
                        phase: 'analyzing',
                        current: 0,
                        total: images.length,
                        percent: 0,
                        message: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±...'
                    });
                    
                    const analysis = await ImageProcessor.analyze(images, (progress) => {
                        this.updateProgress({
                            phase: 'analyzing',
                            ...progress,
                            message: `ØªØ­Ù„ÙŠÙ„ ØµÙˆØ±Ø© ${progress.current} Ù…Ù† ${progress.total}`
                        });
                    });
                    
                    // Update state
                    State.images = images;
                    State.categories = analysis.categories;
                    State.selectedIds = analysis.selectedIds;
                    
                    // Calculate processing time
                    const processingTime = (performance.now() - State.processingStartTime) / 1000;
                    
                    // Show results
                    this.showResults(processingTime);
                    
                } catch (error) {
                    console.error('PDF processing error:', error);
                    Toast.error(error.message || 'Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„Ù');
                    this.resetUI();
                }
            },
            
            /**
             * Handle image files
             */
            async handleImages(files) {
                State.processingStartTime = performance.now();
                
                // Filter and sort image files
                const imageFiles = Array.from(files)
                    .filter(f => f.type.startsWith('image/'))
                    .sort((a, b) => a.name.localeCompare(b.name, 'ar', { numeric: true }));
                
                if (imageFiles.length === 0) {
                    Toast.error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØµÙˆØ± ØµØ§Ù„Ø­Ø©');
                    return;
                }
                
                // Update state
                State.file = {
                    name: `${imageFiles.length} ØµÙˆØ±Ø©`,
                    size: imageFiles.reduce((sum, f) => sum + f.size, 0),
                    type: 'images'
                };
                State.settings.filename = 'images_' + Date.now();
                
                // Update UI
                this.showFileInfo(`${imageFiles.length} ØµÙˆØ±Ø©`, State.file.size);
                this.showProcessingStatus();
                
                try {
                    const images = [];
                    
                    // Phase 1: Load images
                    for (let i = 0; i < imageFiles.length; i++) {
                        const file = imageFiles[i];
                        
                        this.updateProgress({
                            phase: 'loading',
                            current: i + 1,
                            total: imageFiles.length,
                            percent: ((i + 1) / imageFiles.length) * 100,
                            message: `ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© ${i + 1} Ù…Ù† ${imageFiles.length}`
                        });
                        
                        try {
                            const dataUrl = await Utils.readAsDataURL(file);
                            const compressed = await ImageProcessor.compress(dataUrl);
                            
                            images.push({
                                id: 'img_' + i,
                                data: compressed.data,
                                width: compressed.width,
                                height: compressed.height,
                                size: compressed.size,
                                name: file.name,
                                category: 'valid'
                            });
                        } catch (e) {
                            console.warn('Image load error:', file.name, e);
                        }
                        
                        // Yield to UI
                        if (i % 3 === 0) await Utils.delay(5);
                    }
                    
                    if (images.length === 0) {
                        throw new Error('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ±');
                    }
                    
                    // Phase 2: Analyze images
                    this.updateProgress({
                        phase: 'analyzing',
                        current: 0,
                        total: images.length,
                        percent: 0,
                        message: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±...'
                    });
                    
                    const analysis = await ImageProcessor.analyze(images, (progress) => {
                        this.updateProgress({
                            phase: 'analyzing',
                            ...progress,
                            message: `ØªØ­Ù„ÙŠÙ„ ØµÙˆØ±Ø© ${progress.current} Ù…Ù† ${progress.total}`
                        });
                    });
                    
                    // Update state
                    State.images = images;
                    State.categories = analysis.categories;
                    State.selectedIds = analysis.selectedIds;
                    
                    // Calculate processing time
                    const processingTime = (performance.now() - State.processingStartTime) / 1000;
                    
                    // Show results
                    this.showResults(processingTime);
                    
                } catch (error) {
                    console.error('Images processing error:', error);
                    Toast.error(error.message || 'Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ±');
                    this.resetUI();
                }
            },
            
            /**
             * Show file info in drop zone
             */
            showFileInfo(name, size) {
                DOM.fileSelectedInfo.classList.remove('hidden');
                DOM.selectedFileName.textContent = name;
                DOM.selectedFileSize.textContent = Utils.formatSize(size);
                DOM.dropZone.classList.add('processing');
                DOM.tipsSection.classList.add('hidden');
            },
            
            /**
             * Show processing status
             */
            showProcessingStatus() {
                DOM.processingStatus.classList.remove('hidden');
                DOM.extractionResults.classList.add('hidden');
            },
            
            /**
             * Update processing progress
             */
            updateProgress(progress) {
                DOM.processingTitle.textContent = progress.message || 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...';
                DOM.processingDetail.textContent = `${progress.current || 0} Ù…Ù† ${progress.total || 0}`;
                DOM.processingBar.style.width = (progress.percent || 0) + '%';
            },
            
            /**
             * Show extraction results
             */
            showResults(processingTime) {
                DOM.processingStatus.classList.add('hidden');
                DOM.extractionResults.classList.remove('hidden');
                DOM.dropZone.classList.remove('processing');
                
                // Update stats
                DOM.resultTotalImages.textContent = State.images.length;
                DOM.resultValidImages.textContent = State.categories.valid.length;
                DOM.resultDuplicates.textContent = State.categories.duplicate.length;
                DOM.resultLogos.textContent = State.categories.logo.length;
                DOM.resultTime.textContent = Utils.formatDuration(processingTime);
                
                // Update filename input
                DOM.pdfFilenameInput.value = State.settings.filename + '_output';
                
                // Show success toast
                Toast.success(
                    `ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ${State.images.length} ØµÙˆØ±Ø©ØŒ ${State.categories.valid.length} ØµØ§Ù„Ø­Ø©`
                );
            },
            
            /**
             * Reset UI to initial state
             */
            resetUI() {
                DOM.processingStatus.classList.add('hidden');
                DOM.extractionResults.classList.add('hidden');
                DOM.fileSelectedInfo.classList.add('hidden');
                DOM.tipsSection.classList.remove('hidden');
                DOM.dropZone.classList.remove('processing');
                DOM.processingBar.style.width = '0%';
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ–¼ï¸ GALLERY - Image Gallery Management
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Gallery = {
            /**
             * Render gallery grid
             */
            render() {
                const filter = State.currentFilter;
                let imagesToShow;
                
                // Filter images
                if (filter === 'all') {
                    imagesToShow = State.images;
                } else {
                    const categoryIds = State.categories[filter] || [];
                    imagesToShow = State.images.filter(img => categoryIds.includes(img.id));
                }
                
                // Update tab counts
                this.updateTabCounts();
                
                // Check if empty
                if (imagesToShow.length === 0) {
                    DOM.galleryGrid.innerHTML = '';
                    DOM.galleryEmpty.classList.remove('hidden');
                    return;
                }
                
                DOM.galleryEmpty.classList.add('hidden');
                
                // Generate gallery HTML
                DOM.galleryGrid.innerHTML = imagesToShow.map((img, index) => {
                    const isSelected = State.selectedIds.has(img.id);
                    const category = img.category;
                    
                    let badgeHtml = '';
                    if (category === 'duplicate') {
                        badgeHtml = '<span class="gallery-badge badge-duplicate">Ù…ÙƒØ±Ø±</span>';
                    } else if (category === 'logo') {
                        badgeHtml = '<span class="gallery-badge badge-logo">Ø´Ø¹Ø§Ø±</span>';
                    }
                    
                    let pageHtml = '';
                    if (img.page) {
                        pageHtml = `<span class="badge-page">Øµ${img.page}</span>`;
                    }
                    
                    return `
                        <div class="gallery-item ${isSelected ? 'selected' : 'excluded'}" 
                             data-id="${img.id}" 
                             data-index="${index}">
                            <img src="${img.data}" loading="lazy" alt="${img.name}">
                            ${pageHtml}
                            ${badgeHtml}
                            <div class="gallery-check">
                                <span class="material-icons-round">${isSelected ? 'check' : ''}</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                // Attach event listeners
                this.attachEventListeners(imagesToShow);
            },
            
            /**
             * Attach event listeners to gallery items
             */
            attachEventListeners(images) {
                const items = DOM.galleryGrid.querySelectorAll('.gallery-item');
                
                items.forEach((item, index) => {
                    const id = item.dataset.id;
                    
                    // Tap to toggle selection
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.toggleSelection(id);
                    });
                    
                    // Long press to open viewer
                    let pressTimer;
                    let pressStarted = false;
                    
                    item.addEventListener('touchstart', (e) => {
                        pressStarted = true;
                        pressTimer = setTimeout(() => {
                            if (pressStarted) {
                                Utils.vibrate(20);
                                Viewer.open(index, images);
                            }
                        }, 400);
                    }, { passive: true });
                    
                    item.addEventListener('touchend', () => {
                        pressStarted = false;
                        clearTimeout(pressTimer);
                    });
                    
                    item.addEventListener('touchmove', () => {
                        pressStarted = false;
                        clearTimeout(pressTimer);
                    });
                    
                    // Desktop: double click to view
                    item.addEventListener('dblclick', (e) => {
                        e.preventDefault();
                        Viewer.open(index, images);
                    });
                });
            },
            
            /**
             * Toggle image selection
             */
            toggleSelection(id) {
                if (State.selectedIds.has(id)) {
                    State.selectedIds.delete(id);
                } else {
                    State.selectedIds.add(id);
                }
                
                // Update UI
                const item = DOM.galleryGrid.querySelector(`[data-id="${id}"]`);
                if (item) {
                    const isSelected = State.selectedIds.has(id);
                    item.classList.toggle('selected', isSelected);
                    item.classList.toggle('excluded', !isSelected);
                    item.querySelector('.gallery-check .material-icons-round').textContent = 
                        isSelected ? 'check' : '';
                }
                
                this.updateSelectionCount();
                Utils.vibrate(10);
            },
            
            /**
             * Select/deselect all visible images
             */
            selectAll() {
                const filter = State.currentFilter;
                let idsToToggle;
                
                if (filter === 'all') {
                    idsToToggle = State.images.map(img => img.id);
                } else {
                    idsToToggle = State.categories[filter] || [];
                }
                
                // Check if all are selected
                const allSelected = idsToToggle.every(id => State.selectedIds.has(id));
                
                // Toggle all
                idsToToggle.forEach(id => {
                    if (allSelected) {
                        State.selectedIds.delete(id);
                    } else {
                        State.selectedIds.add(id);
                    }
                });
                
                // Update UI
                this.render();
                this.updateSelectionCount();
                Utils.vibrate(10);
                
                // Update button text
                const newAllSelected = idsToToggle.every(id => State.selectedIds.has(id));
                DOM.btnSelectAll.innerHTML = newAllSelected
                    ? '<span class="material-icons-round">deselect</span> Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯'
                    : '<span class="material-icons-round">select_all</span> ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„';
            },
            
            /**
             * Update tab counts
             */
            updateTabCounts() {
                DOM.tabCountAll.textContent = State.images.length;
                DOM.tabCountValid.textContent = State.categories.valid.length;
                DOM.tabCountDuplicate.textContent = State.categories.duplicate.length;
                DOM.tabCountLogo.textContent = State.categories.logo.length;
            },
            
            /**
             * Update selection count display
             */
            updateSelectionCount() {
                DOM.selectionCountText.textContent = State.selectedIds.size + ' Ù…Ø­Ø¯Ø¯Ø©';
            },
            
            /**
             * Set filter and re-render
             */
            setFilter(filter) {
                State.currentFilter = filter;
                
                // Update tabs UI
                const tabs = DOM.galleryTabs.querySelectorAll('.tab');
                tabs.forEach(tab => {
                    tab.classList.toggle('active', tab.dataset.filter === filter);
                });
                
                // Re-render gallery
                this.render();
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ” IMAGE VIEWER - Full Screen Viewer
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Viewer = {
            /**
             * Open viewer with images
             */
            open(index, images) {
                if (!images || images.length === 0) return;
                
                State.viewer.images = images;
                State.viewer.currentIndex = Utils.clamp(index, 0, images.length - 1);
                State.viewer.isOpen = true;
                
                this.update();
                DOM.imageViewer.classList.add('show');
                document.body.style.overflow = 'hidden';
            },
            
            /**
             * Close viewer
             */
            close() {
                DOM.imageViewer.classList.remove('show');
                State.viewer.isOpen = false;
                document.body.style.overflow = '';
                
                // Refresh gallery to reflect changes
                if (State.currentPage === 'gallery') {
                    Gallery.render();
                    Gallery.updateSelectionCount();
                }
            },
            
            /**
             * Update viewer display
             */
            update() {
                const { images, currentIndex } = State.viewer;
                const currentImage = images[currentIndex];
                
                if (!currentImage) return;
                
                // Update image
                DOM.viewerImage.src = currentImage.data;
                
                // Update counter
                DOM.viewerCounter.textContent = `${currentIndex + 1} / ${images.length}`;
                
                // Update selection toggle
                const isSelected = State.selectedIds.has(currentImage.id);
                DOM.viewerToggleBtn.style.background = isSelected 
                    ? 'var(--color-success)' 
                    : 'var(--color-danger)';
                DOM.viewerToggleIcon.textContent = isSelected ? 'check' : 'close';
                
                // Update navigation visibility
                DOM.viewerPrevBtn.style.opacity = currentIndex > 0 ? '1' : '0.3';
                DOM.viewerNextBtn.style.opacity = currentIndex < images.length - 1 ? '1' : '0.3';
            },
            
            /**
             * Go to previous image
             */
            prev() {
                if (State.viewer.currentIndex > 0) {
                    State.viewer.currentIndex--;
                    this.update();
                }
            },
            
            /**
             * Go to next image
             */
            next() {
                if (State.viewer.currentIndex < State.viewer.images.length - 1) {
                    State.viewer.currentIndex++;
                    this.update();
                }
            },
            
            /**
             * Toggle current image selection
             */
            toggleSelection() {
                const currentImage = State.viewer.images[State.viewer.currentIndex];
                if (!currentImage) return;
                
                Gallery.toggleSelection(currentImage.id);
                this.update();
            },
            
            /**
             * Handle swipe gesture
             */
            handleSwipe(startX, endX) {
                const diff = startX - endX;
                const threshold = 50;
                
                if (Math.abs(diff) > threshold) {
                    if (diff > 0) {
                        this.next();
                    } else {
                        this.prev();
                    }
                }
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // âš™ï¸ SETTINGS - PDF Settings Management
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Settings = {
            /**
             * Initialize settings page
             */
            init() {
                this.renderLayouts();
                this.updateToggles();
            },
            
            /**
             * Render layout options
             */
            renderLayouts() {
                DOM.layoutGrid.innerHTML = Object.entries(CONFIG.layouts).map(([count, layout]) => {
                    const isSelected = parseInt(count) === State.settings.layout;
                    const cellCount = Math.min(layout.cols * layout.rows, 12);
                    
                    return `
                        <div class="layout-item ${isSelected ? 'selected' : ''}" 
                             data-layout="${count}">
                            <div class="layout-preview" 
                                 style="grid-template-columns: repeat(${layout.cols}, 1fr)">
                                ${Array(cellCount).fill('<div class="layout-cell"></div>').join('')}
                            </div>
                            <span class="layout-label">${count}</span>
                        </div>
                    `;
                }).join('');
                
                // Attach event listeners
                DOM.layoutGrid.querySelectorAll('.layout-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const layout = parseInt(item.dataset.layout);
                        this.setLayout(layout);
                    });
                });
            },
            
            /**
             * Set layout
             */
            setLayout(layout) {
                State.settings.layout = layout;
                
                // Update UI
                DOM.layoutGrid.querySelectorAll('.layout-item').forEach(item => {
                    item.classList.toggle('selected', parseInt(item.dataset.layout) === layout);
                });
                
                this.updateSummary();
                this.save();
                Utils.vibrate(10);
            },
            
            /**
             * Update toggle switches
             */
            updateToggles() {
                DOM.switchAutoDownload.classList.toggle('active', State.settings.autoDownload);
                DOM.switchAddBorder.classList.toggle('active', State.settings.addBorder);
                DOM.switchHighQuality.classList.toggle('active', State.settings.highQuality);
            },
            
            /**
             * Toggle auto download
             */
            toggleAutoDownload() {
                State.settings.autoDownload = !State.settings.autoDownload;
                DOM.switchAutoDownload.classList.toggle('active', State.settings.autoDownload);
                this.save();
                Utils.vibrate(10);
            },
            
            /**
             * Toggle add border
             */
            toggleAddBorder() {
                State.settings.addBorder = !State.settings.addBorder;
                DOM.switchAddBorder.classList.toggle('active', State.settings.addBorder);
                this.save();
                Utils.vibrate(10);
            },
            
            /**
             * Toggle high quality
             */
            toggleHighQuality() {
                State.settings.highQuality = !State.settings.highQuality;
                DOM.switchHighQuality.classList.toggle('active', State.settings.highQuality);
                
                // Update image quality setting
                CONFIG.image.currentQuality = State.settings.highQuality ? 'high' : 'medium';
                
                this.updateSummary();
                this.save();
                Utils.vibrate(10);
            },
            
            /**
             * Update summary section
             */
            updateSummary() {
                const layout = CONFIG.layouts[State.settings.layout];
                const imagesPerPage = layout.cols * layout.rows;
                const selectedCount = State.selectedIds.size;
                const excludedCount = State.images.length - selectedCount;
                const expectedPages = Math.ceil(selectedCount / imagesPerPage);
                
                // Estimate file size (rough calculation)
                const avgImageSize = State.settings.highQuality ? 200 : 120; // KB
                const estimatedSize = Math.round(selectedCount * avgImageSize / 1024); // MB
                
                // Update UI
                DOM.expectedPagesCount.textContent = expectedPages;
                DOM.summarySelected.textContent = selectedCount;
                DOM.summaryExcluded.textContent = excludedCount;
                DOM.summaryLayout.textContent = `${State.settings.layout} ØµÙˆØ±/ØµÙØ­Ø©`;
                DOM.summarySize.textContent = estimatedSize < 1 
                    ? '< 1 MB' 
                    : `~${estimatedSize} MB`;
            },
            
            /**
             * Save settings to storage
             */
            save() {
                Utils.saveToStorage(CONFIG.storage.settings, {
                    layout: State.settings.layout,
                    autoDownload: State.settings.autoDownload,
                    addBorder: State.settings.addBorder,
                    highQuality: State.settings.highQuality
                });
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ“„ PDF CREATOR - Generate PDF Document
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const PDFCreator = {
            /**
             * Create PDF from selected images
             */
            async create(onProgress = null) {
                const { jsPDF } = window.jspdf;
                
                // Create document
                const doc = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4',
                    compress: true
                });
                
                // PDF dimensions
                const pageWidth = CONFIG.pdf.pageWidth;
                const pageHeight = CONFIG.pdf.pageHeight;
                const margin = CONFIG.pdf.margin;
                const padding = CONFIG.pdf.cellPadding;
                
                // Layout configuration
                const layout = CONFIG.layouts[State.settings.layout];
                const cellWidth = (pageWidth - margin * 2) / layout.cols;
                const cellHeight = (pageHeight - margin * 2) / layout.rows;
                const imagesPerPage = layout.cols * layout.rows;
                
                // Get selected images sorted by ID
                const selectedImages = State.images
                    .filter(img => State.selectedIds.has(img.id))
                    .sort((a, b) => {
                        // Sort by page number first, then by ID
                        if (a.page && b.page) {
                            return a.page - b.page;
                        }
                        const aNum = parseInt(a.id.replace(/\D/g, '')) || 0;
                        const bNum = parseInt(b.id.replace(/\D/g, '')) || 0;
                        return aNum - bNum;
                    });
                
                const totalImages = selectedImages.length;
                const totalPages = Math.ceil(totalImages / imagesPerPage);
                
                let currentPage = 0;
                let addedImages = 0;
                
                // Process each image
                for (let i = 0; i < totalImages; i++) {
                    const positionOnPage = i % imagesPerPage;
                    const col = positionOnPage % layout.cols;
                    const row = Math.floor(positionOnPage / layout.cols);
                    
                    // Add new page if needed
                    if (positionOnPage === 0 && i > 0) {
                        doc.addPage();
                    }
                    
                    if (positionOnPage === 0) {
                        currentPage++;
                    }
                    
                    const img = selectedImages[i];
                    const x = margin + col * cellWidth;
                    const y = margin + row * cellHeight;
                    
                    try {
                        // Ensure JPEG format
                        let imageData = img.data;
                        if (!imageData.includes('data:image/jpeg')) {
                            imageData = await ImageProcessor.toJPEG(imageData);
                        }
                        
                        // Calculate image dimensions
                        const maxWidth = cellWidth - padding * 2;
                        const maxHeight = cellHeight - padding * 2;
                        const imgRatio = (img.width || 100) / (img.height || 100);
                        const cellRatio = maxWidth / maxHeight;
                        
                        let drawWidth, drawHeight;
                        if (imgRatio > cellRatio) {
                            drawWidth = maxWidth;
                            drawHeight = maxWidth / imgRatio;
                        } else {
                            drawHeight = maxHeight;
                            drawWidth = maxHeight * imgRatio;
                        }
                        
                        // Center image in cell
                        const drawX = x + padding + (maxWidth - drawWidth) / 2;
                        const drawY = y + padding + (maxHeight - drawHeight) / 2;
                        
                        // Draw border if enabled
                        if (State.settings.addBorder) {
                            doc.setDrawColor(...CONFIG.pdf.borderColor);
                            doc.setLineWidth(CONFIG.pdf.borderWidth);
                            doc.rect(x + padding, y + padding, maxWidth, maxHeight);
                        }
                        
                        // Add image
                        doc.addImage(imageData, 'JPEG', drawX, drawY, drawWidth, drawHeight);
                        addedImages++;
                        
                    } catch (error) {
                        console.warn('Failed to add image:', i, error);
                        
                        // Draw placeholder
                        doc.setFillColor(245, 245, 245);
                        doc.rect(x + padding, y + padding, cellWidth - padding * 2, cellHeight - padding * 2, 'F');
                    }
                    
                    // Update progress
                    if (onProgress) {
                        onProgress({
                            percent: ((i + 1) / totalImages) * 100,
                            currentImage: addedImages,
                            currentPage: currentPage,
                            totalPages: totalPages,
                            status: `ØµÙØ­Ø© ${currentPage} Ù…Ù† ${totalPages}`
                        });
                    }
                    
                    // Yield to UI every few images
                    if (i % 3 === 0) {
                        await Utils.delay(5);
                    }
                }
                
                // Check if any images were added
                if (addedImages === 0) {
                    throw new Error('Ù„Ù… ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ ØµÙˆØ±');
                }
                
                // Set document properties
                const filename = DOM.pdfFilenameInput.value || State.settings.filename || 'document';
                doc.setProperties({
                    title: filename,
                    author: CONFIG.author,
                    creator: `${CONFIG.name} v${CONFIG.version}`,
                    subject: 'Generated PDF Document'
                });
                
                // Generate blob
                const blob = doc.output('blob');
                
                return {
                    blob,
                    filename: filename + '.pdf',
                    stats: {
                        images: addedImages,
                        pages: currentPage,
                        size: blob.size
                    }
                };
            }
        };
              // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ® APP CONTROLLER - Main Application Logic
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const App = {
            /**
             * Start PDF extraction mode
             */
            startPDFMode() {
                State.mode = 'pdf';
                this.resetState();
                
                // Update UI
                DOM.filePageTitle.textContent = 'Ø§Ø®ØªØ± Ù…Ù„Ù PDF';
                DOM.filePageSubtitle.textContent = 'Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØµÙˆØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹';
                DOM.dropZoneIcon.textContent = 'picture_as_pdf';
                DOM.dropZoneTitle.textContent = 'Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù PDF';
                DOM.dropZoneSubtitle.textContent = 'Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„Ù ÙˆØ£ÙÙ„ØªÙ‡ Ù‡Ù†Ø§';
                
                Navigation.goTo('file');
            },
            
            /**
             * Start images mode
             */
            startImagesMode() {
                State.mode = 'images';
                this.resetState();
                
                // Update UI
                DOM.filePageTitle.textContent = 'Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØ±';
                DOM.filePageSubtitle.textContent = 'Ø§Ø®ØªØ± ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø£Ùˆ Ø£ÙƒØ«Ø±';
                DOM.dropZoneIcon.textContent = 'photo_library';
                DOM.dropZoneTitle.textContent = 'Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±';
                DOM.dropZoneSubtitle.textContent = 'Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„ØµÙˆØ± ÙˆØ£ÙÙ„ØªÙ‡Ø§ Ù‡Ù†Ø§';
                
                Navigation.goTo('file');
            },
            
            /**
             * Reset application state
             */
            resetState() {
                State.images = [];
                State.selectedIds = new Set();
                State.categories = { valid: [], duplicate: [], logo: [] };
                State.currentFilter = 'all';
                State.result.blob = null;
                State.result.stats = { images: 0, pages: 0, size: 0 };
                
                // Reset UI
                FileHandler.resetUI();
            },
            
            /**
             * Create PDF from selected images
             */
            async createPDF() {
                // Validate selection
                if (State.selectedIds.size === 0) {
                    Toast.warning('ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                    return;
                }
                
                State.isProcessing = true;
                Navigation.goTo('processing');
                
                // Show random tip
                DOM.processingTip.textContent = Utils.randomFrom(CONFIG.tips);
                
                // Start tip rotation
                const tipInterval = setInterval(() => {
                    DOM.processingTip.textContent = Utils.randomFrom(CONFIG.tips);
                }, 5000);
                
                try {
                    const result = await PDFCreator.create((progress) => {
                        this.updateProcessingProgress(progress);
                    });
                    
                    // Store result
                    State.result.blob = result.blob;
                    State.result.stats = result.stats;
                    State.settings.filename = result.filename.replace('.pdf', '');
                    
                    // Update statistics
                    State.stats.totalConverted++;
                    State.stats.totalImages += result.stats.images;
                    State.stats.lastUsed = new Date().toISOString();
                    Utils.saveToStorage(CONFIG.storage.stats, State.stats);
                    
                    // Complete progress
                    this.updateProcessingProgress({
                        percent: 100,
                        currentImage: result.stats.images,
                        currentPage: result.stats.pages,
                        totalPages: result.stats.pages,
                        status: 'ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­!'
                    });
                    
                    // Wait a moment then show result
                    await Utils.delay(500);
                    
                    this.showResult();
                    
                    // Auto download if enabled
                    if (State.settings.autoDownload) {
                        await Utils.delay(800);
                        FileExport.download();
                    }
                    
                } catch (error) {
                    console.error('PDF creation error:', error);
                    Toast.error(error.message || 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù');
                    Navigation.goTo('settings');
                } finally {
                    State.isProcessing = false;
                    clearInterval(tipInterval);
                }
            },
            
            /**
             * Update processing progress UI
             */
            updateProcessingProgress(progress) {
                // Update circular progress
                const circumference = 2 * Math.PI * 95; // radius = 95
                const offset = circumference - (progress.percent / 100) * circumference;
                DOM.progressCircleBar.style.strokeDashoffset = offset;
                
                // Update text
                DOM.progressPercentage.textContent = Math.round(progress.percent) + '%';
                DOM.progressStatusText.textContent = progress.status || 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...';
                
                // Update live stats
                DOM.liveImagesCount.textContent = progress.currentImage || 0;
                DOM.livePagesCount.textContent = progress.currentPage || 0;
                
                // Update current action
                DOM.currentActionText.textContent = 
                    `Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø© ${progress.currentImage} Ù…Ù† ${State.selectedIds.size}`;
            },
            
            /**
             * Show result page
             */
            showResult() {
                Navigation.goTo('result');
                
                const { stats } = State.result;
                const filename = State.settings.filename + '.pdf';
                
                // Update UI with animations
                setTimeout(() => {
                    Effects.animateCounter(DOM.finalImagesCount, stats.images);
                    Effects.animateCounter(DOM.finalPagesCount, stats.pages);
                }, 300);
                
                DOM.finalFilename.textContent = filename;
                DOM.finalFilesize.textContent = Utils.formatSize(stats.size);
                
                // Success vibration
                Utils.vibrate([50, 50, 50]);
            },
            
            /**
             * Start new conversion
             */
            newConversion() {
                this.resetState();
                Navigation.goTo('welcome');
                Navigation.navigationHistory = [];
            },
            
            /**
             * Open settings sheet
             */
            openSettings() {
                DOM.settingsBackdrop.classList.add('show');
                DOM.settingsSheet.classList.add('show');
            },
            
            /**
             * Close settings sheet
             */
            closeSettings() {
                DOM.settingsBackdrop.classList.remove('show');
                DOM.settingsSheet.classList.remove('show');
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ“¤ FILE EXPORT - Download, Share, Preview
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const FileExport = {
            /**
             * Download PDF file
             */
            download() {
                if (!State.result.blob) {
                    Toast.error('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù Ù„Ù„ØªØ­Ù…ÙŠÙ„');
                    return;
                }
                
                const filename = State.settings.filename + '.pdf';
                
                try {
                    const url = URL.createObjectURL(State.result.blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    
                    // iOS Safari needs different handling
                    if (Utils.isIOS()) {
                        // Open in new tab for iOS
                        window.open(url, '_blank');
                        Toast.success('ØªÙ… ÙØªØ­ Ø§Ù„Ù…Ù„Ù ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©');
                    } else {
                        link.click();
                        Toast.success('Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„: ' + filename);
                    }
                    
                    // Cleanup
                    setTimeout(() => {
                        document.body.removeChild(link);
                        URL.revokeObjectURL(url);
                    }, 1000);
                    
                    Utils.vibrate(10);
                    
                } catch (error) {
                    console.error('Download error:', error);
                    // Fallback to preview
                    this.preview();
                }
            },
            
            /**
             * Share PDF file
             */
            async share() {
                if (!State.result.blob) {
                    Toast.error('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©');
                    return;
                }
                
                const filename = State.settings.filename + '.pdf';
                
                try {
                    // Create file object
                    const file = new File([State.result.blob], filename, { 
                        type: 'application/pdf' 
                    });
                    
                    // Check if Web Share API supports file sharing
                    if (navigator.share && navigator.canShare && navigator.canShare({ files: [file] })) {
                        await navigator.share({
                            files: [file],
                            title: filename.replace('.pdf', ''),
                            text: 'Ù…Ù„Ù PDF Ù…Ù† PDF Maker Pro'
                        });
                        
                        Toast.success('ØªÙ…Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­');
                        Utils.vibrate(10);
                    } else {
                        // Fallback to download
                        Toast.info('Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…ØªØ§Ø­Ø©ØŒ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...');
                        this.download();
                    }
                } catch (error) {
                    if (error.name !== 'AbortError') {
                        console.error('Share error:', error);
                        this.download();
                    }
                }
            },
            
            /**
             * Preview PDF in browser
             */
            preview() {
                if (!State.result.blob) {
                    Toast.error('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©');
                    return;
                }
                
                try {
                    const url = URL.createObjectURL(State.result.blob);
                    window.open(url, '_blank');
                    Toast.success('ØªÙ… ÙØªØ­ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©');
                    
                    // Cleanup after delay
                    setTimeout(() => {
                        URL.revokeObjectURL(url);
                    }, 60000);
                    
                } catch (error) {
                    console.error('Preview error:', error);
                    Toast.error('Ø®Ø·Ø£ ÙÙŠ ÙØªØ­ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©');
                }
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ¯ EVENT HANDLERS - All Event Listeners
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const EventHandlers = {
            /**
             * Initialize all event handlers
             */
            init() {
                this.setupWelcomePage();
                this.setupFilePage();
                this.setupGalleryPage();
                this.setupSettingsPage();
                this.setupResultPage();
                this.setupViewer();
                this.setupSettingsSheet();
                this.setupGlobalEvents();
                this.setupDragAndDrop();
                this.setupButtonEffects();
            },
            
            /**
             * Welcome page events
             */
            setupWelcomePage() {
                DOM.btnStartPdf?.addEventListener('click', () => {
                    App.startPDFMode();
                });
                
                DOM.btnStartImages?.addEventListener('click', () => {
                    App.startImagesMode();
                });
                
                DOM.btnOpenSettings?.addEventListener('click', () => {
                    App.openSettings();
                });
            },
            
            /**
             * File page events
             */
            setupFilePage() {
                // Back button
                DOM.btnBackToWelcome?.addEventListener('click', () => {
                    Navigation.goBack();
                });
                
                // Drop zone click
                DOM.dropZone?.addEventListener('click', () => {
                    if (State.mode === 'pdf') {
                        DOM.inputPdf.click();
                    } else {
                        DOM.inputImages.click();
                    }
                });
                
                // PDF input change
                DOM.inputPdf?.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        FileHandler.handlePDF(file);
                    }
                    // Reset input for same file selection
                    e.target.value = '';
                });
                
                // Images input change
                DOM.inputImages?.addEventListener('change', (e) => {
                    if (e.target.files.length > 0) {
                        FileHandler.handleImages(e.target.files);
                    }
                    e.target.value = '';
                });
                
                // Continue to gallery
                DOM.btnToGallery?.addEventListener('click', () => {
                    if (State.images.length === 0) {
                        Toast.warning('Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©');
                        return;
                    }
                    Navigation.goTo('gallery');
                });
            },
            
            /**
             * Gallery page events
             */
            setupGalleryPage() {
                // Back button
                DOM.btnBackToFile?.addEventListener('click', () => {
                    Navigation.goBack();
                });
                
                // Tab clicks
                DOM.galleryTabs?.addEventListener('click', (e) => {
                    const tab = e.target.closest('.tab');
                    if (tab && tab.dataset.filter) {
                        Gallery.setFilter(tab.dataset.filter);
                    }
                });
                
                // Select all
                DOM.btnSelectAll?.addEventListener('click', () => {
                    Gallery.selectAll();
                });
                
                // Continue to settings
                DOM.btnToSettings?.addEventListener('click', () => {
                    if (State.selectedIds.size === 0) {
                        Toast.warning('ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                        return;
                    }
                    Navigation.goTo('settings');
                });
            },
            
            /**
             * Settings page events
             */
            setupSettingsPage() {
                // Back button
                DOM.btnBackToGallery?.addEventListener('click', () => {
                    Navigation.goBack();
                });
                
                // Toggle switches
                DOM.toggleAutoDownload?.addEventListener('click', () => {
                    Settings.toggleAutoDownload();
                });
                
                DOM.toggleAddBorder?.addEventListener('click', () => {
                    Settings.toggleAddBorder();
                });
                
                DOM.toggleHighQuality?.addEventListener('click', () => {
                    Settings.toggleHighQuality();
                });
                
                // Filename input
                DOM.pdfFilenameInput?.addEventListener('input', (e) => {
                    State.settings.filename = e.target.value.trim() || 'document';
                });
                
                // Create PDF button
                DOM.btnCreatePdf?.addEventListener('click', () => {
                    App.createPDF();
                });
            },
            
            /**
             * Result page events
             */
            setupResultPage() {
                DOM.btnDownloadPdf?.addEventListener('click', () => {
                    FileExport.download();
                });
                
                DOM.btnSharePdf?.addEventListener('click', () => {
                    FileExport.share();
                });
                
                DOM.btnPreviewPdf?.addEventListener('click', () => {
                    FileExport.preview();
                });
                
                DOM.btnNewConversion?.addEventListener('click', () => {
                    App.newConversion();
                });
                
                // Rate stars
                DOM.rateStars?.addEventListener('click', (e) => {
                    const star = e.target.closest('.rate-star');
                    if (star) {
                        const rating = parseInt(star.dataset.rating);
                        this.handleRating(rating);
                    }
                });
            },
            
            /**
             * Handle rating
             */
            handleRating(rating) {
                const stars = DOM.rateStars.querySelectorAll('.rate-star');
                stars.forEach((star, index) => {
                    star.classList.toggle('active', index < rating);
                });
                
                Utils.vibrate(10);
                
                if (rating >= 4) {
                    Toast.success('Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ! â¤ï¸');
                } else if (rating >= 2) {
                    Toast.info('Ø´ÙƒØ±Ø§Ù‹! Ø³Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ø³ÙŠÙ†');
                } else {
                    Toast.info('Ù†Ø£Ø³Ù Ù„Ø°Ù„ÙƒØŒ Ø³Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„ØªØ­Ø³ÙŠÙ†');
                }
            },
            
            /**
             * Image viewer events
             */
            setupViewer() {
                // Close button
                DOM.viewerCloseBtn?.addEventListener('click', () => {
                    Viewer.close();
                });
                
                // Navigation buttons
                DOM.viewerPrevBtn?.addEventListener('click', () => {
                    Viewer.prev();
                });
                
                DOM.viewerNextBtn?.addEventListener('click', () => {
                    Viewer.next();
                });
                
                // Toggle selection
                DOM.viewerToggleBtn?.addEventListener('click', () => {
                    Viewer.toggleSelection();
                });
                
                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (!State.viewer.isOpen) return;
                    
                    switch (e.key) {
                        case 'Escape':
                            Viewer.close();
                            break;
                        case 'ArrowLeft':
                            Viewer.next(); // RTL
                            break;
                        case 'ArrowRight':
                            Viewer.prev(); // RTL
                            break;
                        case ' ':
                            e.preventDefault();
                            Viewer.toggleSelection();
                            break;
                    }
                });
                
                // Touch swipe handling
                let touchStartX = 0;
                let touchStartY = 0;
                
                DOM.imageViewer?.addEventListener('touchstart', (e) => {
                    touchStartX = e.touches[0].clientX;
                    touchStartY = e.touches[0].clientY;
                }, { passive: true });
                
                DOM.imageViewer?.addEventListener('touchend', (e) => {
                    const touchEndX = e.changedTouches[0].clientX;
                    const touchEndY = e.changedTouches[0].clientY;
                    
                    const diffX = touchStartX - touchEndX;
                    const diffY = Math.abs(touchStartY - touchEndY);
                    
                    // Horizontal swipe (not vertical)
                    if (Math.abs(diffX) > 50 && diffY < 100) {
                        if (diffX > 0) {
                            Viewer.next();
                        } else {
                            Viewer.prev();
                        }
                    }
                });
                
                // Close on backdrop click
                DOM.imageViewer?.addEventListener('click', (e) => {
                    if (e.target === DOM.imageViewer || e.target.classList.contains('viewer-content')) {
                        Viewer.close();
                    }
                });
            },
            
            /**
             * Settings sheet events
             */
            setupSettingsSheet() {
                // Backdrop click to close
                DOM.settingsBackdrop?.addEventListener('click', () => {
                    App.closeSettings();
                });
                
                // Close button
                DOM.btnCloseSettings?.addEventListener('click', () => {
                    App.closeSettings();
                });
                
                // Theme toggle
                DOM.toggleTheme?.addEventListener('click', () => {
                    Theme.toggle();
                });
                
                // Prevent sheet clicks from closing
                DOM.settingsSheet?.addEventListener('click', (e) => {
                    e.stopPropagation();
                });
            },
            
            /**
             * Global events
             */
            setupGlobalEvents() {
                // Handle browser back button
                window.addEventListener('popstate', (e) => {
                    if (State.viewer.isOpen) {
                        Viewer.close();
                        history.pushState(null, '', '');
                    } else if (State.currentPage !== 'welcome' && !State.isProcessing) {
                        Navigation.goBack();
                        history.pushState(null, '', '');
                    }
                });
                
                // Initial history state
                history.pushState(null, '', '');
                
                // Prevent context menu on images
                document.addEventListener('contextmenu', (e) => {
                    if (e.target.tagName === 'IMG') {
                        e.preventDefault();
                    }
                });
                
                // Handle visibility change (cleanup when hidden)
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden && State.isProcessing) {
                        // Could pause processing if needed
                    }
                });
                
                // Prevent accidental page close during processing
                window.addEventListener('beforeunload', (e) => {
                    if (State.isProcessing) {
                        e.preventDefault();
                        e.returnValue = 'Ù„Ø¯ÙŠÙƒ Ø¹Ù…Ù„ÙŠØ© Ø¬Ø§Ø±ÙŠØ©ØŒ Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©ØŸ';
                        return e.returnValue;
                    }
                });
                
                // Handle resize
                window.addEventListener('resize', Utils.debounce(() => {
                    // Could adjust UI for orientation changes
                }, 250));
            },
            
            /**
             * Drag and drop events
             */
            setupDragAndDrop() {
                const dropZone = DOM.dropZone;
                if (!dropZone) return;
                
                // Prevent default drag behaviors
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(event => {
                    dropZone.addEventListener(event, (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                    });
                });
                
                // Highlight on drag enter/over
                ['dragenter', 'dragover'].forEach(event => {
                    dropZone.addEventListener(event, () => {
                        dropZone.classList.add('dragover');
                    });
                });
                
                // Remove highlight on drag leave/drop
                ['dragleave', 'drop'].forEach(event => {
                    dropZone.addEventListener(event, () => {
                        dropZone.classList.remove('dragover');
                    });
                });
                
                // Handle drop
                dropZone.addEventListener('drop', (e) => {
                    const files = e.dataTransfer.files;
                    
                    if (files.length === 0) return;
                    
                    if (State.mode === 'pdf') {
                        // Check for PDF file
                        const pdfFile = Array.from(files).find(f => f.type === 'application/pdf');
                        if (pdfFile) {
                            FileHandler.handlePDF(pdfFile);
                        } else {
                            Toast.warning('ÙŠØ±Ø¬Ù‰ Ø¥Ø³Ù‚Ø§Ø· Ù…Ù„Ù PDF');
                        }
                    } else {
                        // Filter image files
                        const imageFiles = Array.from(files).filter(f => f.type.startsWith('image/'));
                        if (imageFiles.length > 0) {
                            FileHandler.handleImages(imageFiles);
                        } else {
                            Toast.warning('ÙŠØ±Ø¬Ù‰ Ø¥Ø³Ù‚Ø§Ø· ØµÙˆØ± ØµØ§Ù„Ø­Ø©');
                        }
                    }
                });
            },
            
            /**
             * Button ripple effects
             */
            setupButtonEffects() {
                document.addEventListener('click', (e) => {
                    const button = e.target.closest('.btn');
                    if (button && !button.disabled) {
                        Effects.createRipple(e, button);
                    }
                });
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ”§ SERVICE WORKER - PWA Support
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const ServiceWorkerManager = {
            /**
             * Register service worker
             */
            async register() {
                if (!('serviceWorker' in navigator)) {
                    console.log('Service Worker not supported');
                    return;
                }
                
                try {
                    const registration = await navigator.serviceWorker.register('sw.js');
                    console.log('ServiceWorker registered:', registration.scope);
                    
                    // Check for updates
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        
                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                // New version available
                                this.showUpdateNotification();
                            }
                        });
                    });
                    
                } catch (error) {
                    console.log('ServiceWorker registration failed:', error);
                }
            },
            
            /**
             * Show update notification
             */
            showUpdateNotification() {
                Toast.info('ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙŠØ¯ Ù…ØªØ§Ø­! Ø£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ«');
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸš€ INITIALIZATION - Start Application
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        async function initializeApp() {
            console.log(`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘                    PDF MAKER PRO v9.0                         â•‘
â•‘              Ultimate PDF Conversion Engine                   â•‘
â•‘                                                               â•‘
â•‘                  Created by Mohamed Elherd                    â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            `);
            
            try {
                // Show splash and initialize
                await Splash.show();
                
                // Register service worker
                ServiceWorkerManager.register();
                
                console.log('âœ… App initialized successfully');
                
            } catch (error) {
                console.error('âŒ App initialization failed:', error);
                
                // Try to show error to user
                document.body.innerHTML = `
                    <div style="
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        height: 100vh;
                        background: #0a0a1a;
                        color: white;
                        text-align: center;
                        padding: 20px;
                        font-family: 'Tajawal', sans-serif;
                    ">
                        <h1 style="color: #ef4444; margin-bottom: 20px;">Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h1>
                        <p style="color: #94a3b8; margin-bottom: 30px;">${error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹'}</p>
                        <button onclick="location.reload()" style="
                            background: linear-gradient(135deg, #667eea, #764ba2);
                            color: white;
                            border: none;
                            padding: 15px 30px;
                            border-radius: 12px;
                            font-size: 16px;
                            cursor: pointer;
                            font-family: inherit;
                        ">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
                    </div>
                `;
            }
        }

        // Start app when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
    </script>
</body>
</html>